// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`should be able to set a custom expression addToDictionary helper > for common-cases 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  "some string",
  \`something\`,
  "abc",
  $\`123\${0}another thing\`,
]);
import { foo } from "my-module.js";

// const constant = "some string";
const constant = D[0];

foo({
  // bar: "abc",
  bar: D[2],
  // baz: \`something\${constant}456\`,
  baz: \`\${D[1]}\${constant}456\`,
  // bat: foo\`123\${constant}another thing\`,
  bat: foo(D[3], constant),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvbyB9IGZyb20gXCJteS1tb2R1bGUuanNcIjtcblxuLy8gY29uc3QgY29uc3RhbnQgPSBcInNvbWUgc3RyaW5nXCI7XG5jb25zdCBjb25zdGFudCA9IFwic29tZSBzdHJpbmdcIjtcblxuZm9vKHtcbiAgLy8gYmFyOiBcImFiY1wiLFxuICBiYXI6IFwiYWJjXCIsXG4gIC8vIGJhejogYHNvbWV0aGluZyR7Y29uc3RhbnR9NDU2YCxcbiAgYmF6OiBgc29tZXRoaW5nJHtjb25zdGFudH00NTZgLFxuICAvLyBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxuICBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxufSk7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVMsR0FBRyxRQUFRLGNBQWM7QUFDbEM7QUFDQTtBQUNBLE1BQU0sUUFBUSxHQUFHLElBQWE7QUFDOUI7QUFDQSxHQUFHLENBQUM7QUFDSjtBQUNBLEVBQUUsR0FBRyxFQUFFLElBQUs7QUFDWjtBQUNBLEVBQUUsR0FBRyxHQUFHLE9BQVMsRUFBRSxRQUFRLENBQUMsR0FBRztBQUMvQjtBQUNBLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBQyxBQUFHLEVBQUUsUUFBUSxBQUFDLEFBQWE7QUFDdEMiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom expression addToDictionary helper > for commonjs-require 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'test',
]);
const foo = require('foo-module');
foo(D[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9IHJlcXVpcmUoJ2Zvby1tb2R1bGUnKTtcbmZvbygndGVzdCcpO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsWUFBWTtBQUNoQyxHQUFHLENBQUMsSUFBTSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom expression addToDictionary helper > for conflict 1`] = `
"const B = (v) => console.log(v);
const A = B([
  "test",
]);
// Create conflicting bindings for the default names of the helpers.
const $ = 123;
const D = 456;
console.log(/* (attached comment) */ A[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBjb25mbGljdGluZyBiaW5kaW5ncyBmb3IgdGhlIGRlZmF1bHQgbmFtZXMgb2YgdGhlIGhlbHBlcnMuXG5jb25zdCAkID0gMTIzO1xuY29uc3QgRCA9IDQ1NjtcbmNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsTUFBTSxDQUFDLEdBQUc7QUFDVixNQUFNLENBQUMsR0FBRztBQUNWLE9BQU8sQ0FBQyxHQUFHLDBCQUEwQixJQUFNIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for jsx 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  "Escape special characters with the \\"\\\\\\" character.",
  "Text content. With more than one line. And another.",
  " entity reference",
  'quotes"inside',
  'with"\\'quotes',
  '--top-offset',
  "some content",
  "something'",
  'error-info',
  'value',
  \`--is-stuck\`,
  \`px\`,
]);
import {
  AnotherComponent,
  ErrorHandler,
  Flex,
  SomeComponent,
  SomethingElse,
  BLOCK,
  classNames,
  isStuck,
  reportError,
  topOffset,
} from 'framework';

export function MyComponent(props) {
  return (
    <SomeComponent attr={D[7]} with={D[3]}>
      <AnotherComponent attr={D[4]} />
      <SomethingElse style={{
        key: D[9],
        anotherKey: props.key2,
      }}
      >{D[1]}</SomethingElse>
      <ErrorHandler
        onError={(info) => {
          reportError({ [D[8]]: info });
        }}
      />
      <Flex
        style={
          {
            [D[5]]: \`\${topOffset}px\`,
          }
        }
        className={classNames(BLOCK, {
          [\`\${BLOCK}\${D[10]}\`]: isStuck,
        })}
      >{D[0]}</Flex>
      <svg
        fill={props.fill}
        content={(() => { return D[6]; })()}
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 192 192"
        data={D[2]}
      >
        <g>
          <rect x='84' y='156' width='20' height='20' />
        </g>
        <path
          d="M102,140H86v-20c0-13.5,10.1-24,22.9-24c13.2,0,23-3,28.9-9c5.9-5.9,6.1-12.9,6.1-13l0-0.4l0-0.4c0-0.4,0.8-11.6-7.6-20.8
C128.8,44.2,115.9,40,98,40c-20.9,0-35.6,5.7-43.7,16.9c-6,8.3-6.3,17-6.3,17.1L32,74c0-1.3,0.2-13.3,8.7-25.5
C54.6,28.2,79.5,24,98,24c22.7,0,39.7,6,50.5,17.9c12.2,13.4,11.7,29.6,11.5,32.5c-0.1,2.5-0.9,14-10.8,23.9
c-9.1,9.1-22.6,13.7-40.3,13.7c-4.6,0-6.9,4-6.9,8V140z"
        />
      </svg>
    </SomeComponent>
  );
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzeCIsIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBbm90aGVyQ29tcG9uZW50LFxuICBFcnJvckhhbmRsZXIsXG4gIEZsZXgsXG4gIFNvbWVDb21wb25lbnQsXG4gIFNvbWV0aGluZ0Vsc2UsXG4gIEJMT0NLLFxuICBjbGFzc05hbWVzLFxuICBpc1N0dWNrLFxuICByZXBvcnRFcnJvcixcbiAgdG9wT2Zmc2V0LFxufSBmcm9tICdmcmFtZXdvcmsnO1xuXG5leHBvcnQgZnVuY3Rpb24gTXlDb21wb25lbnQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U29tZUNvbXBvbmVudCBhdHRyPVwic29tZXRoaW5nJ1wiIHdpdGg9J3F1b3Rlc1wiaW5zaWRlJz5cbiAgICAgIDxBbm90aGVyQ29tcG9uZW50IGF0dHI9eyd3aXRoXCJcXCdxdW90ZXMnfSAvPlxuICAgICAgPFNvbWV0aGluZ0Vsc2Ugc3R5bGU9e3tcbiAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICBhbm90aGVyS2V5OiBwcm9wcy5rZXkyLFxuICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgVGV4dCBjb250ZW50LlxuXG4gICAgICAgIFdpdGggbW9yZSB0aGFuIG9uZSBsaW5lLlxuXG4gICAgICAgIEFuZCBhbm90aGVyLlxuICAgICAgPC9Tb21ldGhpbmdFbHNlPlxuICAgICAgPEVycm9ySGFuZGxlclxuICAgICAgICBvbkVycm9yPXsoaW5mbykgPT4ge1xuICAgICAgICAgIHJlcG9ydEVycm9yKHsgJ2Vycm9yLWluZm8nOiBpbmZvIH0pO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxGbGV4XG4gICAgICAgIHN0eWxlPXtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAnLS10b3Atb2Zmc2V0JzogYCR7dG9wT2Zmc2V0fXB4YCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKEJMT0NLLCB7XG4gICAgICAgICAgW2Ake0JMT0NLfS0taXMtc3R1Y2tgXTogaXNTdHVjayxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgd2l0aCB0aGUgXCJcXFwiIGNoYXJhY3Rlci5cbiAgICAgIDwvRmxleD5cbiAgICAgIDxzdmdcbiAgICAgICAgZmlsbD17cHJvcHMuZmlsbH1cbiAgICAgICAgY29udGVudD17KCgpID0+IHsgcmV0dXJuIFwic29tZSBjb250ZW50XCI7IH0pKCl9XG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE5MiAxOTJcIlxuICAgICAgICBkYXRhPVwiJm5ic3A7ZW50aXR5IHJlZmVyZW5jZVwiXG4gICAgICA+XG4gICAgICAgIDxnPlxuICAgICAgICAgIDxyZWN0IHg9Jzg0JyB5PScxNTYnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgLz5cbiAgICAgICAgPC9nPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNMTAyLDE0MEg4NnYtMjBjMC0xMy41LDEwLjEtMjQsMjIuOS0yNGMxMy4yLDAsMjMtMywyOC45LTljNS45LTUuOSw2LjEtMTIuOSw2LjEtMTNsMC0wLjRsMC0wLjRjMC0wLjQsMC44LTExLjYtNy42LTIwLjhcbkMxMjguOCw0NC4yLDExNS45LDQwLDk4LDQwYy0yMC45LDAtMzUuNiw1LjctNDMuNywxNi45Yy02LDguMy02LjMsMTctNi4zLDE3LjFMMzIsNzRjMC0xLjMsMC4yLTEzLjMsOC43LTI1LjVcbkM1NC42LDI4LjIsNzkuNSwyNCw5OCwyNGMyMi43LDAsMzkuNyw2LDUwLjUsMTcuOWMxMi4yLDEzLjQsMTEuNywyOS42LDExLjUsMzIuNWMtMC4xLDIuNS0wLjksMTQtMTAuOCwyMy45XG5jLTkuMSw5LjEtMjIuNiwxMy43LTQwLjMsMTMuN2MtNC42LDAtNi45LDQtNi45LDhWMTQwelwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L1NvbWVDb21wb25lbnQ+XG4gICk7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxFQUFFLGdCQUFnQjtBQUNsQixFQUFFLFlBQVk7QUFDZCxFQUFFLElBQUk7QUFDTixFQUFFLGFBQWE7QUFDZixFQUFFLGFBQWE7QUFDZixFQUFFLEtBQUs7QUFDUCxFQUFFLFVBQVU7QUFDWixFQUFFLE9BQU87QUFDVCxFQUFFLFdBQVc7QUFDYixFQUFFLFNBQVM7QUFDWCxPQUFPLFdBQVc7QUFDbEI7QUFDQSxPQUFPLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUNuQyxFQUFFLE9BQU87QUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFZLENBQUMsSUFBSSxDQUFDLE1BQWUsQ0FBQztBQUMxRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBZSxJQUFJO0FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDNUIsUUFBUSxHQUFHLEVBQUUsSUFBTztBQUNwQixRQUFRLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSTtBQUM5QjtBQUNBLE9BQU8sQUFDUCxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsTUFBTSxFQUFFLGFBQWEsQ0FBQztBQUN0QixNQUFNLENBQUMsWUFBWTtBQUNuQixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLO0FBQzNCLFVBQVUsV0FBVyxDQUFDLEVBQUUsTUFBWSxFQUFFLElBQUk7QUFDMUM7QUFDQSxRQUFRO0FBQ1IsTUFBTSxDQUFDLElBQUk7QUFDWCxRQUFRLEtBQUssQ0FBQztBQUNkLFVBQVU7QUFDVixZQUFZLE1BQWMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzNDO0FBQ0E7QUFDQSxRQUFRLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDckMsVUFBVSxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVUsSUFBSSxPQUFPO0FBQ3pDO0FBQ0EsT0FBTyxBQUNQLEFBQ0EsTUFBTSxFQUFFLElBQUksQ0FBQztBQUNiLE1BQU0sQ0FBQyxHQUFHO0FBQ1YsUUFBUSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSTtBQUN4QixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sSUFBYztBQUMvQyxRQUFRLEtBQUssQ0FBQyw0QkFBNEI7QUFDMUMsUUFBUSxPQUFPLENBQUMsYUFBYTtBQUM3QixRQUFRLElBQUksQ0FBQyxNQUF3QjtBQUNyQyxPQUFPO0FBQ1AsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNYLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRztBQUN4RCxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ1osUUFBUSxDQUFDLElBQUk7QUFDYixVQUFVLENBQUMsQ0FBQztBQUNaO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsVUFBVTtBQUNWLE1BQU0sRUFBRSxHQUFHLENBQUM7QUFDWixJQUFJLEVBQUUsYUFBYTtBQUNuQjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for reference-size 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  "abcd",
  \`abcdefghi\`,
  "abcde",
  "abc",
  \`abcdefgh\`,
  "xyz0",
  "xyz",
  $\`\`,
  $\`\${0}\${0}\${0}\`,
  "a",
  "ab",
  \`abcde\`,
  \`abcdef\`,
  \`abcdefg\`,
]);
const foo = () => {};

// For short strings, we should use the original string instead of replacing it with a
// dictionary reference.
const short1 = "";
const short2 = "a";
const short3 = "ab";

// Longer strings should be replaced with a dictionary reference.
const long1 = D[3];
const long2 = D[0];
const long3 = D[2];

// Similarly, we should keep short quasis in template literals instead of replacing them
// with a dictionary reference.
const quasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// The dictionary now contains 10 items, which will make the references for any further
// items larger because the size of the index will increase by one character. However,
// we should still be able to use references for all of the examples below, because we
// should be smart enough to reorder the dictionary to make the new items fit.
const twoDigits1 = D[3];
const twoDigits2 = D[0];
const twoDigits3 = D[6];
const twoDigits4 = D[5];

// The same applies to quasis.
const twoDigitsQuasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// We should never replace an empty string, or a sequence of empty quasis, with a
// dictionary reference. (Although for tagged templates, it's a bit trickier to detect
// this case, and so we will continue to generate dictionary entries for them.)
const empty1 = "";
const empty2 = "";
const empty3 = \`\`;
const empty4 = \`\${0}\${1}\${2}\`;
const empty5 = foo(D[7]);
const empty6 = foo(D[8], 0, 1, 2);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBGb3Igc2hvcnQgc3RyaW5ncywgd2Ugc2hvdWxkIHVzZSB0aGUgb3JpZ2luYWwgc3RyaW5nIGluc3RlYWQgb2YgcmVwbGFjaW5nIGl0IHdpdGggYVxuLy8gZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBzaG9ydDEgPSBcIlwiO1xuY29uc3Qgc2hvcnQyID0gXCJhXCI7XG5jb25zdCBzaG9ydDMgPSBcImFiXCI7XG5cbi8vIExvbmdlciBzdHJpbmdzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGEgZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBsb25nMSA9IFwiYWJjXCI7XG5jb25zdCBsb25nMiA9IFwiYWJjZFwiO1xuY29uc3QgbG9uZzMgPSBcImFiY2RlXCI7XG5cbi8vIFNpbWlsYXJseSwgd2Ugc2hvdWxkIGtlZXAgc2hvcnQgcXVhc2lzIGluIHRlbXBsYXRlIGxpdGVyYWxzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbi8vIHdpdGggYSBkaWN0aW9uYXJ5IHJlZmVyZW5jZS5cbmNvbnN0IHF1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBUaGUgZGljdGlvbmFyeSBub3cgY29udGFpbnMgMTAgaXRlbXMsIHdoaWNoIHdpbGwgbWFrZSB0aGUgcmVmZXJlbmNlcyBmb3IgYW55IGZ1cnRoZXJcbi8vIGl0ZW1zIGxhcmdlciBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSBpbmRleCB3aWxsIGluY3JlYXNlIGJ5IG9uZSBjaGFyYWN0ZXIuIEhvd2V2ZXIsXG4vLyB3ZSBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byB1c2UgcmVmZXJlbmNlcyBmb3IgYWxsIG9mIHRoZSBleGFtcGxlcyBiZWxvdywgYmVjYXVzZSB3ZVxuLy8gc2hvdWxkIGJlIHNtYXJ0IGVub3VnaCB0byByZW9yZGVyIHRoZSBkaWN0aW9uYXJ5IHRvIG1ha2UgdGhlIG5ldyBpdGVtcyBmaXQuXG5jb25zdCB0d29EaWdpdHMxID0gXCJhYmNcIjtcbmNvbnN0IHR3b0RpZ2l0czIgPSBcImFiY2RcIjtcbmNvbnN0IHR3b0RpZ2l0czMgPSBcInh5elwiO1xuY29uc3QgdHdvRGlnaXRzNCA9IFwieHl6MFwiO1xuXG4vLyBUaGUgc2FtZSBhcHBsaWVzIHRvIHF1YXNpcy5cbmNvbnN0IHR3b0RpZ2l0c1F1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBXZSBzaG91bGQgbmV2ZXIgcmVwbGFjZSBhbiBlbXB0eSBzdHJpbmcsIG9yIGEgc2VxdWVuY2Ugb2YgZW1wdHkgcXVhc2lzLCB3aXRoIGFcbi8vIGRpY3Rpb25hcnkgcmVmZXJlbmNlLiAoQWx0aG91Z2ggZm9yIHRhZ2dlZCB0ZW1wbGF0ZXMsIGl0J3MgYSBiaXQgdHJpY2tpZXIgdG8gZGV0ZWN0XG4vLyB0aGlzIGNhc2UsIGFuZCBzbyB3ZSB3aWxsIGNvbnRpbnVlIHRvIGdlbmVyYXRlIGRpY3Rpb25hcnkgZW50cmllcyBmb3IgdGhlbS4pXG5jb25zdCBlbXB0eTEgPSBcIlwiO1xuY29uc3QgZW1wdHkyID0gXCJcIjtcbmNvbnN0IGVtcHR5MyA9IGBgO1xuY29uc3QgZW1wdHk0ID0gYCR7MH0kezF9JHsyfWA7XG5jb25zdCBlbXB0eTUgPSBmb29gYDtcbmNvbnN0IGVtcHR5NiA9IGZvb2AkezB9JHsxfSR7Mn1gO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxFQUFFO0FBQ2pCLE1BQU0sTUFBTSxHQUFHLEdBQUc7QUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBSTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxLQUFLLEdBQUcsSUFBSztBQUNuQixNQUFNLEtBQUssR0FBRyxJQUFNO0FBQ3BCLE1BQU0sS0FBSyxHQUFHLElBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsSUFBSztBQUN4QixNQUFNLFVBQVUsR0FBRyxJQUFNO0FBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUs7QUFDeEIsTUFBTSxVQUFVLEdBQUcsSUFBTTtBQUN6QjtBQUNBO0FBQ0EsTUFBTSxlQUFlLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLEVBQUU7QUFDakIsTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNLE1BQU0sSUFBSTtBQUNoQixNQUFNLE1BQU0sSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM1QixNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUM7QUFDbkIsTUFBTSxNQUFNLEdBQUcsR0FBRyxLQUFDLEVBQUUsQ0FBRSxFQUFFLENBQUUsRUFBRSxDQUFFIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for regular-expressions 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  \`"\`,
]);
import compact from 'lodash/compact';

export const PATTERN = /[:()"\\\\]/g;

const addQuotes = (string, hasQuotes) =>
  hasQuotes ? \`"\${string}"\` : string;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JztcblxuZXhwb3J0IGNvbnN0IFBBVFRFUk4gPSAvWzooKVwiXFxcXF0vZztcblxuY29uc3QgYWRkUXVvdGVzID0gKHN0cmluZywgaGFzUXVvdGVzKSA9PlxuICBoYXNRdW90ZXMgPyBgXCIke3N0cmluZ31cImAgOiBzdHJpbmc7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sT0FBTyxNQUFNLGdCQUFnQjtBQUNwQztBQUNBLE9BQU8sTUFBTSxPQUFPLEdBQUc7QUFDdkI7QUFDQSxNQUFNLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTO0FBQ3BDLEVBQUUsU0FBUyxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0iLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom expression addToDictionary helper > for string-literals 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  "appendix",
  "gem\`'\\"\\u{6F}",
  "cat\\r\\n\\tdog",
  "observe",
  'quarrel',
  'fizz"\\'"',
  "karat",
  'bowling',
  "egg'\\"'",
  "macrame",
  "nanobot",
  "pacific",
  "hammer",
  "image",
  "jewel",
  "labor",
]);
const foo = () => {};

// Trivial string literals.
const trivial1 = "";
const trivial2 = '';
const trivial3 = D[0];
const trivial4 = D[7];

// Escape sequences.
const escape1 = D[2];
const escape2 = D[8];
const escape3 = D[5];
const escape4 = D[1];

// String literals used in expressions.
const expression1 = D[12].toLowerCase();
const expression2 = foo[D[13]];
const expression3 = foo(D[14]);
const expression4 = D[6][1];

// String literals used in function declarations.
const func1 = (_a = D[15]) => {};

// String literals used in object literals.
const object1 = { [D[9]]: 1 };
const object2 = { [D[10]]: 2 };
const object3 = { [D[3]](_a){} };

// String literals used in array literals.
const array1 = [D[11]];
const array2 = [...D[4]];

// Reuse of string literals we've already seen.
const reuse1 = D[0];
const reuse2 = D[6][1];
const reuse3 = { [D[3]](_a){} };
const reuse4 = [...D[4]];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBUcml2aWFsIHN0cmluZyBsaXRlcmFscy5cbmNvbnN0IHRyaXZpYWwxID0gXCJcIjtcbmNvbnN0IHRyaXZpYWwyID0gJyc7XG5jb25zdCB0cml2aWFsMyA9IFwiYXBwZW5kaXhcIjtcbmNvbnN0IHRyaXZpYWw0ID0gJ2Jvd2xpbmcnO1xuXG4vLyBFc2NhcGUgc2VxdWVuY2VzLlxuY29uc3QgZXNjYXBlMSA9IFwiY2F0XFxyXFxuXFx0ZG9nXCI7XG5jb25zdCBlc2NhcGUyID0gXCJlZ2cnXFxcIidcIjtcbmNvbnN0IGVzY2FwZTMgPSAnZml6elwiXFwnXCInO1xuY29uc3QgZXNjYXBlNCA9IFwiZ2VtYCdcXFwiXFx1ezZGfVwiO1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBleHByZXNzaW9ucy5cbmNvbnN0IGV4cHJlc3Npb24xID0gXCJoYW1tZXJcIi50b0xvd2VyQ2FzZSgpO1xuY29uc3QgZXhwcmVzc2lvbjIgPSBmb29bXCJpbWFnZVwiXTtcbmNvbnN0IGV4cHJlc3Npb24zID0gZm9vKFwiamV3ZWxcIik7XG5jb25zdCBleHByZXNzaW9uNCA9IFwia2FyYXRcIlsxXTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuY29uc3QgZnVuYzEgPSAoX2EgPSBcImxhYm9yXCIpID0+IHt9O1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBvYmplY3QgbGl0ZXJhbHMuXG5jb25zdCBvYmplY3QxID0geyBcIm1hY3JhbWVcIjogMSB9O1xuY29uc3Qgb2JqZWN0MiA9IHsgW1wibmFub2JvdFwiXTogMiB9O1xuY29uc3Qgb2JqZWN0MyA9IHsgXCJvYnNlcnZlXCIoX2Epe30gfTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gYXJyYXkgbGl0ZXJhbHMuXG5jb25zdCBhcnJheTEgPSBbXCJwYWNpZmljXCJdO1xuY29uc3QgYXJyYXkyID0gWy4uLidxdWFycmVsJ107XG5cbi8vIFJldXNlIG9mIHN0cmluZyBsaXRlcmFscyB3ZSd2ZSBhbHJlYWR5IHNlZW4uXG5jb25zdCByZXVzZTEgPSBcImFwcGVuZGl4XCI7XG5jb25zdCByZXVzZTIgPSBcImthcmF0XCJbMV07XG5jb25zdCByZXVzZTMgPSB7IFwib2JzZXJ2ZVwiKF9hKXt9IH07XG5jb25zdCByZXVzZTQgPSBbLi4uJ3F1YXJyZWwnXTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0EsTUFBTSxRQUFRLEdBQUcsRUFBRTtBQUNuQixNQUFNLFFBQVEsR0FBRyxFQUFFO0FBQ25CLE1BQU0sUUFBUSxHQUFHLElBQVU7QUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBUztBQUMxQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsSUFBYztBQUM5QixNQUFNLE9BQU8sR0FBRyxJQUFTO0FBQ3pCLE1BQU0sT0FBTyxHQUFHLElBQVU7QUFDMUIsTUFBTSxPQUFPLEdBQUcsSUFBZTtBQUMvQjtBQUNBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsS0FBUSxDQUFDLFdBQVc7QUFDeEMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsSUFBTyxDQUFDO0FBQzVCO0FBQ0E7QUFDQSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxLQUFPLEtBQUs7QUFDaEM7QUFDQTtBQUNBLE1BQU0sT0FBTyxHQUFHLEVBQUUsTUFBUyxFQUFFO0FBQzdCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFTLEdBQUc7QUFDL0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFTLENBQUMsRUFBRSxDQUFDO0FBQy9CO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQVM7QUFDekIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQVM7QUFDNUI7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLElBQVU7QUFDekIsTUFBTSxNQUFNLEdBQUcsSUFBTyxDQUFDO0FBQ3ZCLE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBUyxDQUFDLEVBQUUsQ0FBQztBQUM5QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBUyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom expression addToDictionary helper > for switch-statements 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'francis',
  'result',
  'emmett',
  "arnold",
  'betty',
  $\`danielle\`,
  \`charles\`,
]);
const tag = () => D[1];

export const foo = (value) => {
  const emmett = D[2];

  switch (value) {
    case D[3]:
      return 1;

    case D[4]:
      return 2;

    case \`charles\`:
      return 3;

    case tag(D[5]):
      return 4;

    case emmett:
      return 5;

    case D[0]:
      return 6;

    default:
      return 7;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgZm9vID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGVtbWV0dCA9ICdlbW1ldHQnO1xuXG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIFwiYXJub2xkXCI6XG4gICAgICByZXR1cm4gMTtcblxuICAgIGNhc2UgJ2JldHR5JzpcbiAgICAgIHJldHVybiAyO1xuXG4gICAgY2FzZSBgY2hhcmxlc2A6XG4gICAgICByZXR1cm4gMztcblxuICAgIGNhc2UgdGFnYGRhbmllbGxlYDpcbiAgICAgIHJldHVybiA0O1xuXG4gICAgY2FzZSBlbW1ldHQ6XG4gICAgICByZXR1cm4gNTtcblxuICAgIGNhc2UnZnJhbmNpcyc6XG4gICAgICByZXR1cm4gNjtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gNztcbiAgfVxufTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTSxJQUFRO0FBQzFCO0FBQ0EsT0FBTyxNQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssS0FBSztBQUM5QixFQUFFLE1BQU0sTUFBTSxHQUFHLElBQVE7QUFDekI7QUFDQSxFQUFFLFFBQVEsS0FBSztBQUNmLElBQUksS0FBSyxJQUFRO0FBQ2pCLE1BQU0sT0FBTztBQUNiO0FBQ0EsSUFBSSxLQUFLLElBQU87QUFDaEIsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLE1BQU0sT0FBTztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxHQUFHLEtBQUMsQUFBUTtBQUNyQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxNQUFNO0FBQ2YsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLElBQUksS0FBUztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUk7QUFDSixNQUFNLE9BQU87QUFDYjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for tagged-templates-only 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  $\`bar\${0}\`,
]);
function foo() { }
console.log(foo(D[0], 1000))
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGZvbygpIHsgfVxuY29uc29sZS5sb2coZm9vYGJhciR7MTAwMH1gKVxuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxTQUFTLEdBQUcsR0FBRztBQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFDLEFBQUcsRUFBRSxJQUFLIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for templates 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  \`\\\`'"\\u{6F}\`,
  \`abc\\r\\n\\t123\`,
  \`gallingly\`,
  \`hairbrush\`,
  \`idealists\`,
  \`absolute\`,
  \`backdrops\`,
  \`cacophony\`,
  \`dachshund\`,
  \`eagerness\`,
  \`fabricate\`,
  \`newlyweds\`,
  \`orthodoxy\`,
  \`paralyzed\`,
  \`quadrants\`,
  \`reflexive\`,
  \`waferlike\`,
  \`yardstick\`,
  $\`superior\${0}vertical\`,
  $\`triangle\${0}umbrella\`,
  $\`\`,
  $\`judgment\`,
  $\`keyboard\${0}laughter\${0}material\`,
  $\`abstract\`,
  $\`doubtful\${0}endeavor\`,
  $\`bacteria\${0}contrast\`,
]);
const foo = () => {};
const bar = 1;

// Trivial template expressions.
const trivial1 = \`\`;
const trivial2 = \`\${D[5]}\`;
const trivial3 = \`\${D[6]}\${bar}\`;
const trivial4 = \`\${bar}\${D[7]}\`;
const trivial5 = \`\${D[8]}\${bar}\`;
const trivial6 = \`\${D[9]}\${bar}\${D[10]}\`;
const trivial7 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;

// Escape sequences.
const escape1 = \`\${D[1]}\`;
const escape2 = \`\${D[0]}\`;

// Tagged template expressions.
const tagged1 = foo(D[20]);
const tagged2 = foo(D[21]);
const tagged3 = foo(D[22], bar, bar);

// Nested template expressions.
const nested1 = \`\${D[11]}\${\`\${D[12]}\${\`\${D[13]}\`}\${D[14]}\`}\${D[15]}\`;
const nested2 = foo(D[18], foo(D[19], bar));
const nested3 = \`\${D[16]}\${bar}\${D[17]}\${foo(D[23])}\`;

// Using the results of template expressions as a tag.
const resulttag1 = foo(D[25], bar)(D[24], bar);

// Reuse of quasis and template expressions that we've already seen.
const reuse1 = \`\${D[5]}\`;
const reuse2 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;
const reuse3 = \`\${D[0]}\`;
const reuse4 = foo(D[18], foo(D[19], bar));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuY29uc3QgYmFyID0gMTtcblxuLy8gVHJpdmlhbCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRyaXZpYWwxID0gYGA7XG5jb25zdCB0cml2aWFsMiA9IGBhYnNvbHV0ZWA7XG5jb25zdCB0cml2aWFsMyA9IGBiYWNrZHJvcHMke2Jhcn1gO1xuY29uc3QgdHJpdmlhbDQgPSBgJHtiYXJ9Y2Fjb3Bob255YDtcbmNvbnN0IHRyaXZpYWw1ID0gYGRhY2hzaHVuZCR7YmFyfWA7XG5jb25zdCB0cml2aWFsNiA9IGBlYWdlcm5lc3Mke2Jhcn1mYWJyaWNhdGVgO1xuY29uc3QgdHJpdmlhbDcgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcblxuLy8gRXNjYXBlIHNlcXVlbmNlcy5cbmNvbnN0IGVzY2FwZTEgPSBgYWJjXFxyXFxuXFx0MTIzYDtcbmNvbnN0IGVzY2FwZTIgPSBgXFxgJ1wiXFx1ezZGfWA7XG5cbi8vIFRhZ2dlZCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRhZ2dlZDEgPSBmb29gYDtcbmNvbnN0IHRhZ2dlZDIgPSBmb29ganVkZ21lbnRgO1xuY29uc3QgdGFnZ2VkMyA9IGZvb2BrZXlib2FyZCR7YmFyfWxhdWdodGVyJHtiYXJ9bWF0ZXJpYWxgO1xuXG4vLyBOZXN0ZWQgdGVtcGxhdGUgZXhwcmVzc2lvbnMuXG5jb25zdCBuZXN0ZWQxID0gYG5ld2x5d2VkcyR7YG9ydGhvZG94eSR7YHBhcmFseXplZGB9cXVhZHJhbnRzYH1yZWZsZXhpdmVgO1xuY29uc3QgbmVzdGVkMiA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbmNvbnN0IG5lc3RlZDMgPSBgd2FmZXJsaWtlJHtiYXJ9eWFyZHN0aWNrJHtmb29gYWJzdHJhY3RgfWA7XG5cbi8vIFVzaW5nIHRoZSByZXN1bHRzIG9mIHRlbXBsYXRlIGV4cHJlc3Npb25zIGFzIGEgdGFnLlxuY29uc3QgcmVzdWx0dGFnMSA9IGZvb2BiYWN0ZXJpYSR7YmFyfWNvbnRyYXN0YGBkb3VidGZ1bCR7YmFyfWVuZGVhdm9yYDtcblxuLy8gUmV1c2Ugb2YgcXVhc2lzIGFuZCB0ZW1wbGF0ZSBleHByZXNzaW9ucyB0aGF0IHdlJ3ZlIGFscmVhZHkgc2Vlbi5cbmNvbnN0IHJldXNlMSA9IGBhYnNvbHV0ZWA7XG5jb25zdCByZXVzZTIgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcbmNvbnN0IHJldXNlMyA9IGBcXGAnXCJcXHV7NkZ9YDtcbmNvbnN0IHJldXNlNCA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU07QUFDbEIsTUFBTSxHQUFHLEdBQUc7QUFDWjtBQUNBO0FBQ0EsTUFBTSxRQUFRLElBQUk7QUFDbEIsTUFBTSxRQUFRLElBQUksT0FBUTtBQUMxQixNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQ2pDLE1BQU0sUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQVM7QUFDakMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQztBQUNqQyxNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVM7QUFDMUMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDLE9BQVMsRUFBRSxHQUFHLENBQUM7QUFDL0Q7QUFDQTtBQUNBLE1BQU0sT0FBTyxJQUFJLE9BQVk7QUFDN0IsTUFBTSxPQUFPLElBQUksT0FBVTtBQUMzQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDO0FBQ3BCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRO0FBQzVCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRLEVBQUUsR0FBRyxBQUFDLEFBQVEsRUFBRSxHQUFHLEFBQUMsQUFBUTtBQUN4RDtBQUNBO0FBQ0EsTUFBTSxPQUFPLElBQUksUUFBUyxHQUFHLFFBQVMsR0FBRyxRQUFTLEVBQUUsUUFBUyxFQUFFLFFBQVM7QUFDeEUsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUTtBQUNsRSxNQUFNLE9BQU8sSUFBSSxRQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVMsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFO0FBQ3pEO0FBQ0E7QUFDQSxNQUFNLFVBQVUsR0FBRyxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLE9BQUUsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRO0FBQ3JFO0FBQ0E7QUFDQSxNQUFNLE1BQU0sSUFBSSxPQUFRO0FBQ3hCLE1BQU0sTUFBTSxJQUFJLE9BQVMsRUFBRSxHQUFHLENBQUMsT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQzdELE1BQU0sTUFBTSxJQUFJLE9BQVU7QUFDMUIsTUFBTSxNQUFNLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom expression addToDictionary helper > for ternary-expressions 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'katherine',
  "charles",
  'ophelia',
  'richard',
  'result',
  "arnold",
  'george',
  'marcia',
  'nathan',
  "betty",
  'harry',
  'irina',
  'peter',
  'quinn',
  'jack',
  $\`danielle\`,
  $\`emmett\`,
  $\`francine\`,
]);
const tag = () => D[4];

export const arnold = D[5] ? D[9] : D[1];
export const danielle = tag(D[15]) ? tag(D[16]) : tag(D[17]);
export const george = D[6] ? (D[10], D[11]) : (D[14], D[0]);
export const leopold = { [D[7]]: D[8] } ? { [D[2]]: D[12] } : { 'quinn': D[3] };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgYXJub2xkID0gXCJhcm5vbGRcIiA/IFwiYmV0dHlcIiA6IFwiY2hhcmxlc1wiO1xuZXhwb3J0IGNvbnN0IGRhbmllbGxlID0gdGFnYGRhbmllbGxlYCA/IHRhZ2BlbW1ldHRgIDogdGFnYGZyYW5jaW5lYDtcbmV4cG9ydCBjb25zdCBnZW9yZ2UgPSAnZ2VvcmdlJyA/ICgnaGFycnknLCAnaXJpbmEnKSA6ICgnamFjaycsICdrYXRoZXJpbmUnKTtcbmV4cG9ydCBjb25zdCBsZW9wb2xkID0geyAnbWFyY2lhJzogJ25hdGhhbicgfSA/IHsgJ29waGVsaWEnOiAncGV0ZXInIH0gOiB7ICdxdWlubic6ICdyaWNoYXJkJyB9O1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBUTtBQUMxQjtBQUNBLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLElBQU8sR0FBRyxJQUFTO0FBQ3BELE9BQU8sTUFBTSxRQUFRLEdBQUcsR0FBRyxNQUFDLEFBQVEsSUFBSSxHQUFHLE1BQUMsQUFBTSxJQUFJLEdBQUcsTUFBQyxBQUFRO0FBQ2xFLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLENBQUMsS0FBTyxFQUFFLEtBQU8sSUFBSSxDQUFDLEtBQU0sRUFBRSxJQUFXO0FBQzFFLE9BQU8sTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFRLEVBQUUsSUFBUSxLQUFLLEVBQUUsTUFBUyxFQUFFLEtBQU8sS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFTIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for trivial 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  "test",
]);
console.log(/* (attached comment) */ D[0]);

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG5cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxDQUFDLEdBQUcsMEJBQTBCLElBQU07QUFDM0MiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom expression addToDictionary helper > for typescript-enums 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'Number Three',
  'Number One',
  'Letter A',
  "Letter B",
  "Number Two",
  'Number Two',
  'Letter C',
  'Alpha',
  "Beta",
  \`Letter C\`,
  \`Gamma\`,
]);
enum GreekLetters {
  Alpha = 'Alpha',
  Beta = "Beta",
  Gamma = \`Gamma\`,
}

enum RomanLetters {
  'Letter A' = 'Letter A',
  "Letter B" = "Letter B",
  'Letter C' = \`Letter C\`,
}

const enum ArabicNumbers {
  'Number One' = 'Number One',
  "Number Two" = 'Number Two',
  'Number Three' = 'Number Three',
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImVudW0gR3JlZWtMZXR0ZXJzIHtcbiAgQWxwaGEgPSAnQWxwaGEnLFxuICBCZXRhID0gXCJCZXRhXCIsXG4gIEdhbW1hID0gYEdhbW1hYCxcbn1cblxuZW51bSBSb21hbkxldHRlcnMge1xuICAnTGV0dGVyIEEnID0gJ0xldHRlciBBJyxcbiAgXCJMZXR0ZXIgQlwiID0gXCJMZXR0ZXIgQlwiLFxuICAnTGV0dGVyIEMnID0gYExldHRlciBDYCxcbn1cblxuY29uc3QgZW51bSBBcmFiaWNOdW1iZXJzIHtcbiAgJ051bWJlciBPbmUnID0gJ051bWJlciBPbmUnLFxuICBcIk51bWJlciBUd29cIiA9ICdOdW1iZXIgVHdvJyxcbiAgJ051bWJlciBUaHJlZScgPSAnTnVtYmVyIFRocmVlJyxcbn1cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLEtBQUssWUFBWTtBQUNqQixFQUFFLEtBQUssR0FBRyxPQUFPO0FBQ2pCLEVBQUUsSUFBSSxHQUFHLE1BQU07QUFDZixFQUFFLEtBQUssSUFBSSxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLLFlBQVk7QUFDakIsRUFBRSxVQUFVLEdBQUcsVUFBVTtBQUN6QixFQUFFLFVBQVUsR0FBRyxVQUFVO0FBQ3pCLEVBQUUsVUFBVSxJQUFJLFFBQVE7QUFDeEI7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixFQUFFLFlBQVksR0FBRyxZQUFZO0FBQzdCLEVBQUUsWUFBWSxHQUFHLFlBQVk7QUFDN0IsRUFBRSxjQUFjLEdBQUcsY0FBYztBQUNqQyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom expression addToDictionary helper > for typescript-inheritance 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'SpecificNode',
  'pattern',
]);
import { Variant } from './variant';

export class SpecificNode
    extends Variant(D[0])<[string, {}]>
{
    pattern(): string {
        return { escaped: D[1] };
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhcmlhbnQgfSBmcm9tICcuL3ZhcmlhbnQnO1xuXG5leHBvcnQgY2xhc3MgU3BlY2lmaWNOb2RlXG4gICAgZXh0ZW5kcyBWYXJpYW50KCdTcGVjaWZpY05vZGUnKTxbc3RyaW5nLCB7fV0+XG57XG4gICAgcGF0dGVybigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4geyBlc2NhcGVkOiAncGF0dGVybicgfTtcbiAgICB9XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTLE9BQU8sUUFBUSxXQUFXO0FBQ25DO0FBQ0EsT0FBTyxNQUFNLFlBQVk7QUFDekIsWUFBWSxPQUFPLENBQUMsSUFBYyxDQUFDO0FBQ25DO0FBQ0EsSUFBSSxPQUFPLEVBQUUsU0FBUztBQUN0QixRQUFRLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBUztBQUNuQztBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for typescript-namespaces 1`] = `
"const $ = (v) => console.log(v);
const D = $([
  'betelgeuse',
  'cassiopeia',
  'andromeda',
]);
declare module SomeModule {
  const variable = D[2];
}

declare module "SomeModule" {
  const variable = D[0];
}

declare namespace SomeNamespace {
  const variable = D[1];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbW9kdWxlIFNvbWVNb2R1bGUge1xuICBjb25zdCB2YXJpYWJsZSA9ICdhbmRyb21lZGEnO1xufVxuXG5kZWNsYXJlIG1vZHVsZSBcIlNvbWVNb2R1bGVcIiB7XG4gIGNvbnN0IHZhcmlhYmxlID0gJ2JldGVsZ2V1c2UnO1xufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBTb21lTmFtZXNwYWNlIHtcbiAgY29uc3QgdmFyaWFibGUgPSAnY2Fzc2lvcGVpYSc7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMEJBQTBCO0FBQzFCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBVztBQUM5QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQiIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom expression addToDictionary helper > for unwanted 1`] = `
"// No strings in this file should appear in the dictionary.
"use strict";
"use server";
"use client";
import "unwanted1.js";
import foo from "unwanted2.js";
import { foo } from "unwanted3.js";
import * as foo from "unwanted4.js";
import { foo as bar1 } from "unwanted5.js";
import { default as bar2 } from "unwanted6.js";
import { "unwanted7" as bar3 } from "unwanted8.js";
export { bar1 };
export { bar1 as bar2 };
export { bar1 as "unwanted9" };
export * from "unwanted10.js";
export * as foo from "unwanted11.js";
export { bar } from "unwanted12.js";
export { default } from "unwanted13.js";
export { default as bar } from "unwanted14.js";
export { foo as "unwanted15" } from "unwanted16.js";
const bar4 = require("unwanted17.js");
const bar5 = import("unwanted18.js");
function doSomething() {
  "use strict";
  return 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHNlcnZlclwiO1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgXCJ1bndhbnRlZDEuanNcIjtcbmltcG9ydCBmb28gZnJvbSBcInVud2FudGVkMi5qc1wiO1xuaW1wb3J0IHsgZm9vIH0gZnJvbSBcInVud2FudGVkMy5qc1wiO1xuaW1wb3J0ICogYXMgZm9vIGZyb20gXCJ1bndhbnRlZDQuanNcIjtcbmltcG9ydCB7IGZvbyBhcyBiYXIxIH0gZnJvbSBcInVud2FudGVkNS5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBiYXIyIH0gZnJvbSBcInVud2FudGVkNi5qc1wiO1xuaW1wb3J0IHsgXCJ1bndhbnRlZDdcIiBhcyBiYXIzIH0gZnJvbSBcInVud2FudGVkOC5qc1wiO1xuZXhwb3J0IHsgYmFyMSB9O1xuZXhwb3J0IHsgYmFyMSBhcyBiYXIyIH07XG5leHBvcnQgeyBiYXIxIGFzIFwidW53YW50ZWQ5XCIgfTtcbmV4cG9ydCAqIGZyb20gXCJ1bndhbnRlZDEwLmpzXCI7XG5leHBvcnQgKiBhcyBmb28gZnJvbSBcInVud2FudGVkMTEuanNcIjtcbmV4cG9ydCB7IGJhciB9IGZyb20gXCJ1bndhbnRlZDEyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcInVud2FudGVkMTMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmFyIH0gZnJvbSBcInVud2FudGVkMTQuanNcIjtcbmV4cG9ydCB7IGZvbyBhcyBcInVud2FudGVkMTVcIiB9IGZyb20gXCJ1bndhbnRlZDE2LmpzXCI7XG5jb25zdCBiYXI0ID0gcmVxdWlyZShcInVud2FudGVkMTcuanNcIik7XG5jb25zdCBiYXI1ID0gaW1wb3J0KFwidW53YW50ZWQxOC5qc1wiKTtcbmZ1bmN0aW9uIGRvU29tZXRoaW5nKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgcmV0dXJuIDA7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixPQUFPLGNBQWM7QUFDckIsT0FBTyxHQUFHLE1BQU0sY0FBYztBQUM5QixTQUFTLEdBQUcsUUFBUSxjQUFjO0FBQ2xDLE9BQU8sS0FBSyxHQUFHLE1BQU0sY0FBYztBQUNuQyxTQUFTLEdBQUcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUMxQyxTQUFTLE9BQU8sSUFBSSxJQUFJLFFBQVEsY0FBYztBQUM5QyxTQUFTLFdBQVcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUNsRCxTQUFTLElBQUk7QUFDYixTQUFTLElBQUksSUFBSSxJQUFJO0FBQ3JCLFNBQVMsSUFBSSxJQUFJLFdBQVc7QUFDNUIsY0FBYyxlQUFlO0FBQzdCLE9BQU8sS0FBSyxHQUFHLE1BQU0sZUFBZTtBQUNwQyxTQUFTLEdBQUcsUUFBUSxlQUFlO0FBQ25DLFNBQVMsT0FBTyxRQUFRLGVBQWU7QUFDdkMsU0FBUyxPQUFPLElBQUksR0FBRyxRQUFRLGVBQWU7QUFDOUMsU0FBUyxHQUFHLElBQUksWUFBWSxRQUFRLGVBQWU7QUFDbkQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLGVBQWU7QUFDcEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxlQUFlO0FBQ25DLFNBQVMsV0FBVyxHQUFHO0FBQ3ZCLEVBQUUsWUFBWTtBQUNkLEVBQUUsT0FBTztBQUNUIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom expression addToDictionary helper > for unwanted-typescript 1`] = `
"// No strings in this file should appear in the dictionary.
let foo: 'unwanted_var_type_1' | "unwanted_var_type_2";

function bar(
  x: "unwanted_arg_type_1",
  y: 'unwanted_arg_type_2'
): 'unwanted_return_value_type_3' | undefined {
  return undefined;
}

type ObjectType = {
  'unwanted_object_key_type_1': 'unwanted_object_value_type_1'
};

interface InterfaceType {
  'unwanted_interface_key_type_1': 'unwanted_interface_value_type_1'
};

declare let baz: 'unwanted_declared_var_type_1';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5sZXQgZm9vOiAndW53YW50ZWRfdmFyX3R5cGVfMScgfCBcInVud2FudGVkX3Zhcl90eXBlXzJcIjtcblxuZnVuY3Rpb24gYmFyKFxuICB4OiBcInVud2FudGVkX2FyZ190eXBlXzFcIixcbiAgeTogJ3Vud2FudGVkX2FyZ190eXBlXzInXG4pOiAndW53YW50ZWRfcmV0dXJuX3ZhbHVlX3R5cGVfMycgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG50eXBlIE9iamVjdFR5cGUgPSB7XG4gICd1bndhbnRlZF9vYmplY3Rfa2V5X3R5cGVfMSc6ICd1bndhbnRlZF9vYmplY3RfdmFsdWVfdHlwZV8xJ1xufTtcblxuaW50ZXJmYWNlIEludGVyZmFjZVR5cGUge1xuICAndW53YW50ZWRfaW50ZXJmYWNlX2tleV90eXBlXzEnOiAndW53YW50ZWRfaW50ZXJmYWNlX3ZhbHVlX3R5cGVfMSdcbn07XG5cbmRlY2xhcmUgbGV0IGJhejogJ3Vud2FudGVkX2RlY2xhcmVkX3Zhcl90eXBlXzEnO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxHQUFHO0FBQ1A7QUFDQSxTQUFTLEdBQUc7QUFDWixFQUFFLENBQUM7QUFDSCxFQUFFLENBQUM7QUFDSCxDQUFDLDZDQUE2QztBQUM5QyxFQUFFLE9BQU8sU0FBUztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxVQUFVO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksR0FBRyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for common-cases 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  "some string",
  \`something\`,
  "abc",
  $\`123\${0}another thing\`,
]);
import { foo } from "my-module.js";

// const constant = "some string";
const constant = D[0];

foo({
  // bar: "abc",
  bar: D[2],
  // baz: \`something\${constant}456\`,
  baz: \`\${D[1]}\${constant}456\`,
  // bat: foo\`123\${constant}another thing\`,
  bat: foo(D[3], constant),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvbyB9IGZyb20gXCJteS1tb2R1bGUuanNcIjtcblxuLy8gY29uc3QgY29uc3RhbnQgPSBcInNvbWUgc3RyaW5nXCI7XG5jb25zdCBjb25zdGFudCA9IFwic29tZSBzdHJpbmdcIjtcblxuZm9vKHtcbiAgLy8gYmFyOiBcImFiY1wiLFxuICBiYXI6IFwiYWJjXCIsXG4gIC8vIGJhejogYHNvbWV0aGluZyR7Y29uc3RhbnR9NDU2YCxcbiAgYmF6OiBgc29tZXRoaW5nJHtjb25zdGFudH00NTZgLFxuICAvLyBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxuICBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxufSk7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVMsR0FBRyxRQUFRLGNBQWM7QUFDbEM7QUFDQTtBQUNBLE1BQU0sUUFBUSxHQUFHLElBQWE7QUFDOUI7QUFDQSxHQUFHLENBQUM7QUFDSjtBQUNBLEVBQUUsR0FBRyxFQUFFLElBQUs7QUFDWjtBQUNBLEVBQUUsR0FBRyxHQUFHLE9BQVMsRUFBRSxRQUFRLENBQUMsR0FBRztBQUMvQjtBQUNBLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBQyxBQUFHLEVBQUUsUUFBUSxBQUFDLEFBQWE7QUFDdEMiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom imported addToDictionary helper > for commonjs-require 1`] = `
"const { addToDictionary: $ } = require('@custom/helpers.cjs');
const D = $([
  'test',
]);
const foo = require('foo-module');
foo(D[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9IHJlcXVpcmUoJ2Zvby1tb2R1bGUnKTtcbmZvbygndGVzdCcpO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsWUFBWTtBQUNoQyxHQUFHLENBQUMsSUFBTSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for conflict 1`] = `
"import { addToDictionary as B } from '@custom/helpers.mjs';
const A = B([
  "test",
]);
// Create conflicting bindings for the default names of the helpers.
const $ = 123;
const D = 456;
console.log(/* (attached comment) */ A[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBjb25mbGljdGluZyBiaW5kaW5ncyBmb3IgdGhlIGRlZmF1bHQgbmFtZXMgb2YgdGhlIGhlbHBlcnMuXG5jb25zdCAkID0gMTIzO1xuY29uc3QgRCA9IDQ1NjtcbmNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsTUFBTSxDQUFDLEdBQUc7QUFDVixNQUFNLENBQUMsR0FBRztBQUNWLE9BQU8sQ0FBQyxHQUFHLDBCQUEwQixJQUFNIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for jsx 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  "Escape special characters with the \\"\\\\\\" character.",
  "Text content. With more than one line. And another.",
  " entity reference",
  'quotes"inside',
  'with"\\'quotes',
  '--top-offset',
  "some content",
  "something'",
  'error-info',
  'value',
  \`--is-stuck\`,
  \`px\`,
]);
import {
  AnotherComponent,
  ErrorHandler,
  Flex,
  SomeComponent,
  SomethingElse,
  BLOCK,
  classNames,
  isStuck,
  reportError,
  topOffset,
} from 'framework';

export function MyComponent(props) {
  return (
    <SomeComponent attr={D[7]} with={D[3]}>
      <AnotherComponent attr={D[4]} />
      <SomethingElse style={{
        key: D[9],
        anotherKey: props.key2,
      }}
      >{D[1]}</SomethingElse>
      <ErrorHandler
        onError={(info) => {
          reportError({ [D[8]]: info });
        }}
      />
      <Flex
        style={
          {
            [D[5]]: \`\${topOffset}px\`,
          }
        }
        className={classNames(BLOCK, {
          [\`\${BLOCK}\${D[10]}\`]: isStuck,
        })}
      >{D[0]}</Flex>
      <svg
        fill={props.fill}
        content={(() => { return D[6]; })()}
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 192 192"
        data={D[2]}
      >
        <g>
          <rect x='84' y='156' width='20' height='20' />
        </g>
        <path
          d="M102,140H86v-20c0-13.5,10.1-24,22.9-24c13.2,0,23-3,28.9-9c5.9-5.9,6.1-12.9,6.1-13l0-0.4l0-0.4c0-0.4,0.8-11.6-7.6-20.8
C128.8,44.2,115.9,40,98,40c-20.9,0-35.6,5.7-43.7,16.9c-6,8.3-6.3,17-6.3,17.1L32,74c0-1.3,0.2-13.3,8.7-25.5
C54.6,28.2,79.5,24,98,24c22.7,0,39.7,6,50.5,17.9c12.2,13.4,11.7,29.6,11.5,32.5c-0.1,2.5-0.9,14-10.8,23.9
c-9.1,9.1-22.6,13.7-40.3,13.7c-4.6,0-6.9,4-6.9,8V140z"
        />
      </svg>
    </SomeComponent>
  );
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzeCIsIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBbm90aGVyQ29tcG9uZW50LFxuICBFcnJvckhhbmRsZXIsXG4gIEZsZXgsXG4gIFNvbWVDb21wb25lbnQsXG4gIFNvbWV0aGluZ0Vsc2UsXG4gIEJMT0NLLFxuICBjbGFzc05hbWVzLFxuICBpc1N0dWNrLFxuICByZXBvcnRFcnJvcixcbiAgdG9wT2Zmc2V0LFxufSBmcm9tICdmcmFtZXdvcmsnO1xuXG5leHBvcnQgZnVuY3Rpb24gTXlDb21wb25lbnQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U29tZUNvbXBvbmVudCBhdHRyPVwic29tZXRoaW5nJ1wiIHdpdGg9J3F1b3Rlc1wiaW5zaWRlJz5cbiAgICAgIDxBbm90aGVyQ29tcG9uZW50IGF0dHI9eyd3aXRoXCJcXCdxdW90ZXMnfSAvPlxuICAgICAgPFNvbWV0aGluZ0Vsc2Ugc3R5bGU9e3tcbiAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICBhbm90aGVyS2V5OiBwcm9wcy5rZXkyLFxuICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgVGV4dCBjb250ZW50LlxuXG4gICAgICAgIFdpdGggbW9yZSB0aGFuIG9uZSBsaW5lLlxuXG4gICAgICAgIEFuZCBhbm90aGVyLlxuICAgICAgPC9Tb21ldGhpbmdFbHNlPlxuICAgICAgPEVycm9ySGFuZGxlclxuICAgICAgICBvbkVycm9yPXsoaW5mbykgPT4ge1xuICAgICAgICAgIHJlcG9ydEVycm9yKHsgJ2Vycm9yLWluZm8nOiBpbmZvIH0pO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxGbGV4XG4gICAgICAgIHN0eWxlPXtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAnLS10b3Atb2Zmc2V0JzogYCR7dG9wT2Zmc2V0fXB4YCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKEJMT0NLLCB7XG4gICAgICAgICAgW2Ake0JMT0NLfS0taXMtc3R1Y2tgXTogaXNTdHVjayxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgd2l0aCB0aGUgXCJcXFwiIGNoYXJhY3Rlci5cbiAgICAgIDwvRmxleD5cbiAgICAgIDxzdmdcbiAgICAgICAgZmlsbD17cHJvcHMuZmlsbH1cbiAgICAgICAgY29udGVudD17KCgpID0+IHsgcmV0dXJuIFwic29tZSBjb250ZW50XCI7IH0pKCl9XG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE5MiAxOTJcIlxuICAgICAgICBkYXRhPVwiJm5ic3A7ZW50aXR5IHJlZmVyZW5jZVwiXG4gICAgICA+XG4gICAgICAgIDxnPlxuICAgICAgICAgIDxyZWN0IHg9Jzg0JyB5PScxNTYnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgLz5cbiAgICAgICAgPC9nPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNMTAyLDE0MEg4NnYtMjBjMC0xMy41LDEwLjEtMjQsMjIuOS0yNGMxMy4yLDAsMjMtMywyOC45LTljNS45LTUuOSw2LjEtMTIuOSw2LjEtMTNsMC0wLjRsMC0wLjRjMC0wLjQsMC44LTExLjYtNy42LTIwLjhcbkMxMjguOCw0NC4yLDExNS45LDQwLDk4LDQwYy0yMC45LDAtMzUuNiw1LjctNDMuNywxNi45Yy02LDguMy02LjMsMTctNi4zLDE3LjFMMzIsNzRjMC0xLjMsMC4yLTEzLjMsOC43LTI1LjVcbkM1NC42LDI4LjIsNzkuNSwyNCw5OCwyNGMyMi43LDAsMzkuNyw2LDUwLjUsMTcuOWMxMi4yLDEzLjQsMTEuNywyOS42LDExLjUsMzIuNWMtMC4xLDIuNS0wLjksMTQtMTAuOCwyMy45XG5jLTkuMSw5LjEtMjIuNiwxMy43LTQwLjMsMTMuN2MtNC42LDAtNi45LDQtNi45LDhWMTQwelwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L1NvbWVDb21wb25lbnQ+XG4gICk7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxFQUFFLGdCQUFnQjtBQUNsQixFQUFFLFlBQVk7QUFDZCxFQUFFLElBQUk7QUFDTixFQUFFLGFBQWE7QUFDZixFQUFFLGFBQWE7QUFDZixFQUFFLEtBQUs7QUFDUCxFQUFFLFVBQVU7QUFDWixFQUFFLE9BQU87QUFDVCxFQUFFLFdBQVc7QUFDYixFQUFFLFNBQVM7QUFDWCxPQUFPLFdBQVc7QUFDbEI7QUFDQSxPQUFPLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUNuQyxFQUFFLE9BQU87QUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFZLENBQUMsSUFBSSxDQUFDLE1BQWUsQ0FBQztBQUMxRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBZSxJQUFJO0FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDNUIsUUFBUSxHQUFHLEVBQUUsSUFBTztBQUNwQixRQUFRLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSTtBQUM5QjtBQUNBLE9BQU8sQUFDUCxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsTUFBTSxFQUFFLGFBQWEsQ0FBQztBQUN0QixNQUFNLENBQUMsWUFBWTtBQUNuQixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLO0FBQzNCLFVBQVUsV0FBVyxDQUFDLEVBQUUsTUFBWSxFQUFFLElBQUk7QUFDMUM7QUFDQSxRQUFRO0FBQ1IsTUFBTSxDQUFDLElBQUk7QUFDWCxRQUFRLEtBQUssQ0FBQztBQUNkLFVBQVU7QUFDVixZQUFZLE1BQWMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzNDO0FBQ0E7QUFDQSxRQUFRLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDckMsVUFBVSxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVUsSUFBSSxPQUFPO0FBQ3pDO0FBQ0EsT0FBTyxBQUNQLEFBQ0EsTUFBTSxFQUFFLElBQUksQ0FBQztBQUNiLE1BQU0sQ0FBQyxHQUFHO0FBQ1YsUUFBUSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSTtBQUN4QixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sSUFBYztBQUMvQyxRQUFRLEtBQUssQ0FBQyw0QkFBNEI7QUFDMUMsUUFBUSxPQUFPLENBQUMsYUFBYTtBQUM3QixRQUFRLElBQUksQ0FBQyxNQUF3QjtBQUNyQyxPQUFPO0FBQ1AsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNYLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRztBQUN4RCxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ1osUUFBUSxDQUFDLElBQUk7QUFDYixVQUFVLENBQUMsQ0FBQztBQUNaO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsVUFBVTtBQUNWLE1BQU0sRUFBRSxHQUFHLENBQUM7QUFDWixJQUFJLEVBQUUsYUFBYTtBQUNuQjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for reference-size 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  "abcd",
  \`abcdefghi\`,
  "abcde",
  "abc",
  \`abcdefgh\`,
  "xyz0",
  "xyz",
  $\`\`,
  $\`\${0}\${0}\${0}\`,
  "a",
  "ab",
  \`abcde\`,
  \`abcdef\`,
  \`abcdefg\`,
]);
const foo = () => {};

// For short strings, we should use the original string instead of replacing it with a
// dictionary reference.
const short1 = "";
const short2 = "a";
const short3 = "ab";

// Longer strings should be replaced with a dictionary reference.
const long1 = D[3];
const long2 = D[0];
const long3 = D[2];

// Similarly, we should keep short quasis in template literals instead of replacing them
// with a dictionary reference.
const quasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// The dictionary now contains 10 items, which will make the references for any further
// items larger because the size of the index will increase by one character. However,
// we should still be able to use references for all of the examples below, because we
// should be smart enough to reorder the dictionary to make the new items fit.
const twoDigits1 = D[3];
const twoDigits2 = D[0];
const twoDigits3 = D[6];
const twoDigits4 = D[5];

// The same applies to quasis.
const twoDigitsQuasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// We should never replace an empty string, or a sequence of empty quasis, with a
// dictionary reference. (Although for tagged templates, it's a bit trickier to detect
// this case, and so we will continue to generate dictionary entries for them.)
const empty1 = "";
const empty2 = "";
const empty3 = \`\`;
const empty4 = \`\${0}\${1}\${2}\`;
const empty5 = foo(D[7]);
const empty6 = foo(D[8], 0, 1, 2);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBGb3Igc2hvcnQgc3RyaW5ncywgd2Ugc2hvdWxkIHVzZSB0aGUgb3JpZ2luYWwgc3RyaW5nIGluc3RlYWQgb2YgcmVwbGFjaW5nIGl0IHdpdGggYVxuLy8gZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBzaG9ydDEgPSBcIlwiO1xuY29uc3Qgc2hvcnQyID0gXCJhXCI7XG5jb25zdCBzaG9ydDMgPSBcImFiXCI7XG5cbi8vIExvbmdlciBzdHJpbmdzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGEgZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBsb25nMSA9IFwiYWJjXCI7XG5jb25zdCBsb25nMiA9IFwiYWJjZFwiO1xuY29uc3QgbG9uZzMgPSBcImFiY2RlXCI7XG5cbi8vIFNpbWlsYXJseSwgd2Ugc2hvdWxkIGtlZXAgc2hvcnQgcXVhc2lzIGluIHRlbXBsYXRlIGxpdGVyYWxzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbi8vIHdpdGggYSBkaWN0aW9uYXJ5IHJlZmVyZW5jZS5cbmNvbnN0IHF1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBUaGUgZGljdGlvbmFyeSBub3cgY29udGFpbnMgMTAgaXRlbXMsIHdoaWNoIHdpbGwgbWFrZSB0aGUgcmVmZXJlbmNlcyBmb3IgYW55IGZ1cnRoZXJcbi8vIGl0ZW1zIGxhcmdlciBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSBpbmRleCB3aWxsIGluY3JlYXNlIGJ5IG9uZSBjaGFyYWN0ZXIuIEhvd2V2ZXIsXG4vLyB3ZSBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byB1c2UgcmVmZXJlbmNlcyBmb3IgYWxsIG9mIHRoZSBleGFtcGxlcyBiZWxvdywgYmVjYXVzZSB3ZVxuLy8gc2hvdWxkIGJlIHNtYXJ0IGVub3VnaCB0byByZW9yZGVyIHRoZSBkaWN0aW9uYXJ5IHRvIG1ha2UgdGhlIG5ldyBpdGVtcyBmaXQuXG5jb25zdCB0d29EaWdpdHMxID0gXCJhYmNcIjtcbmNvbnN0IHR3b0RpZ2l0czIgPSBcImFiY2RcIjtcbmNvbnN0IHR3b0RpZ2l0czMgPSBcInh5elwiO1xuY29uc3QgdHdvRGlnaXRzNCA9IFwieHl6MFwiO1xuXG4vLyBUaGUgc2FtZSBhcHBsaWVzIHRvIHF1YXNpcy5cbmNvbnN0IHR3b0RpZ2l0c1F1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBXZSBzaG91bGQgbmV2ZXIgcmVwbGFjZSBhbiBlbXB0eSBzdHJpbmcsIG9yIGEgc2VxdWVuY2Ugb2YgZW1wdHkgcXVhc2lzLCB3aXRoIGFcbi8vIGRpY3Rpb25hcnkgcmVmZXJlbmNlLiAoQWx0aG91Z2ggZm9yIHRhZ2dlZCB0ZW1wbGF0ZXMsIGl0J3MgYSBiaXQgdHJpY2tpZXIgdG8gZGV0ZWN0XG4vLyB0aGlzIGNhc2UsIGFuZCBzbyB3ZSB3aWxsIGNvbnRpbnVlIHRvIGdlbmVyYXRlIGRpY3Rpb25hcnkgZW50cmllcyBmb3IgdGhlbS4pXG5jb25zdCBlbXB0eTEgPSBcIlwiO1xuY29uc3QgZW1wdHkyID0gXCJcIjtcbmNvbnN0IGVtcHR5MyA9IGBgO1xuY29uc3QgZW1wdHk0ID0gYCR7MH0kezF9JHsyfWA7XG5jb25zdCBlbXB0eTUgPSBmb29gYDtcbmNvbnN0IGVtcHR5NiA9IGZvb2AkezB9JHsxfSR7Mn1gO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxFQUFFO0FBQ2pCLE1BQU0sTUFBTSxHQUFHLEdBQUc7QUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBSTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxLQUFLLEdBQUcsSUFBSztBQUNuQixNQUFNLEtBQUssR0FBRyxJQUFNO0FBQ3BCLE1BQU0sS0FBSyxHQUFHLElBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsSUFBSztBQUN4QixNQUFNLFVBQVUsR0FBRyxJQUFNO0FBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUs7QUFDeEIsTUFBTSxVQUFVLEdBQUcsSUFBTTtBQUN6QjtBQUNBO0FBQ0EsTUFBTSxlQUFlLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLEVBQUU7QUFDakIsTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNLE1BQU0sSUFBSTtBQUNoQixNQUFNLE1BQU0sSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM1QixNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUM7QUFDbkIsTUFBTSxNQUFNLEdBQUcsR0FBRyxLQUFDLEVBQUUsQ0FBRSxFQUFFLENBQUUsRUFBRSxDQUFFIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for regular-expressions 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  \`"\`,
]);
import compact from 'lodash/compact';

export const PATTERN = /[:()"\\\\]/g;

const addQuotes = (string, hasQuotes) =>
  hasQuotes ? \`"\${string}"\` : string;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JztcblxuZXhwb3J0IGNvbnN0IFBBVFRFUk4gPSAvWzooKVwiXFxcXF0vZztcblxuY29uc3QgYWRkUXVvdGVzID0gKHN0cmluZywgaGFzUXVvdGVzKSA9PlxuICBoYXNRdW90ZXMgPyBgXCIke3N0cmluZ31cImAgOiBzdHJpbmc7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sT0FBTyxNQUFNLGdCQUFnQjtBQUNwQztBQUNBLE9BQU8sTUFBTSxPQUFPLEdBQUc7QUFDdkI7QUFDQSxNQUFNLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTO0FBQ3BDLEVBQUUsU0FBUyxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0iLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom imported addToDictionary helper > for string-literals 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  "appendix",
  "gem\`'\\"\\u{6F}",
  "cat\\r\\n\\tdog",
  "observe",
  'quarrel',
  'fizz"\\'"',
  "karat",
  'bowling',
  "egg'\\"'",
  "macrame",
  "nanobot",
  "pacific",
  "hammer",
  "image",
  "jewel",
  "labor",
]);
const foo = () => {};

// Trivial string literals.
const trivial1 = "";
const trivial2 = '';
const trivial3 = D[0];
const trivial4 = D[7];

// Escape sequences.
const escape1 = D[2];
const escape2 = D[8];
const escape3 = D[5];
const escape4 = D[1];

// String literals used in expressions.
const expression1 = D[12].toLowerCase();
const expression2 = foo[D[13]];
const expression3 = foo(D[14]);
const expression4 = D[6][1];

// String literals used in function declarations.
const func1 = (_a = D[15]) => {};

// String literals used in object literals.
const object1 = { [D[9]]: 1 };
const object2 = { [D[10]]: 2 };
const object3 = { [D[3]](_a){} };

// String literals used in array literals.
const array1 = [D[11]];
const array2 = [...D[4]];

// Reuse of string literals we've already seen.
const reuse1 = D[0];
const reuse2 = D[6][1];
const reuse3 = { [D[3]](_a){} };
const reuse4 = [...D[4]];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBUcml2aWFsIHN0cmluZyBsaXRlcmFscy5cbmNvbnN0IHRyaXZpYWwxID0gXCJcIjtcbmNvbnN0IHRyaXZpYWwyID0gJyc7XG5jb25zdCB0cml2aWFsMyA9IFwiYXBwZW5kaXhcIjtcbmNvbnN0IHRyaXZpYWw0ID0gJ2Jvd2xpbmcnO1xuXG4vLyBFc2NhcGUgc2VxdWVuY2VzLlxuY29uc3QgZXNjYXBlMSA9IFwiY2F0XFxyXFxuXFx0ZG9nXCI7XG5jb25zdCBlc2NhcGUyID0gXCJlZ2cnXFxcIidcIjtcbmNvbnN0IGVzY2FwZTMgPSAnZml6elwiXFwnXCInO1xuY29uc3QgZXNjYXBlNCA9IFwiZ2VtYCdcXFwiXFx1ezZGfVwiO1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBleHByZXNzaW9ucy5cbmNvbnN0IGV4cHJlc3Npb24xID0gXCJoYW1tZXJcIi50b0xvd2VyQ2FzZSgpO1xuY29uc3QgZXhwcmVzc2lvbjIgPSBmb29bXCJpbWFnZVwiXTtcbmNvbnN0IGV4cHJlc3Npb24zID0gZm9vKFwiamV3ZWxcIik7XG5jb25zdCBleHByZXNzaW9uNCA9IFwia2FyYXRcIlsxXTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuY29uc3QgZnVuYzEgPSAoX2EgPSBcImxhYm9yXCIpID0+IHt9O1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBvYmplY3QgbGl0ZXJhbHMuXG5jb25zdCBvYmplY3QxID0geyBcIm1hY3JhbWVcIjogMSB9O1xuY29uc3Qgb2JqZWN0MiA9IHsgW1wibmFub2JvdFwiXTogMiB9O1xuY29uc3Qgb2JqZWN0MyA9IHsgXCJvYnNlcnZlXCIoX2Epe30gfTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gYXJyYXkgbGl0ZXJhbHMuXG5jb25zdCBhcnJheTEgPSBbXCJwYWNpZmljXCJdO1xuY29uc3QgYXJyYXkyID0gWy4uLidxdWFycmVsJ107XG5cbi8vIFJldXNlIG9mIHN0cmluZyBsaXRlcmFscyB3ZSd2ZSBhbHJlYWR5IHNlZW4uXG5jb25zdCByZXVzZTEgPSBcImFwcGVuZGl4XCI7XG5jb25zdCByZXVzZTIgPSBcImthcmF0XCJbMV07XG5jb25zdCByZXVzZTMgPSB7IFwib2JzZXJ2ZVwiKF9hKXt9IH07XG5jb25zdCByZXVzZTQgPSBbLi4uJ3F1YXJyZWwnXTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0EsTUFBTSxRQUFRLEdBQUcsRUFBRTtBQUNuQixNQUFNLFFBQVEsR0FBRyxFQUFFO0FBQ25CLE1BQU0sUUFBUSxHQUFHLElBQVU7QUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBUztBQUMxQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsSUFBYztBQUM5QixNQUFNLE9BQU8sR0FBRyxJQUFTO0FBQ3pCLE1BQU0sT0FBTyxHQUFHLElBQVU7QUFDMUIsTUFBTSxPQUFPLEdBQUcsSUFBZTtBQUMvQjtBQUNBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsS0FBUSxDQUFDLFdBQVc7QUFDeEMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsSUFBTyxDQUFDO0FBQzVCO0FBQ0E7QUFDQSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxLQUFPLEtBQUs7QUFDaEM7QUFDQTtBQUNBLE1BQU0sT0FBTyxHQUFHLEVBQUUsTUFBUyxFQUFFO0FBQzdCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFTLEdBQUc7QUFDL0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFTLENBQUMsRUFBRSxDQUFDO0FBQy9CO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQVM7QUFDekIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQVM7QUFDNUI7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLElBQVU7QUFDekIsTUFBTSxNQUFNLEdBQUcsSUFBTyxDQUFDO0FBQ3ZCLE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBUyxDQUFDLEVBQUUsQ0FBQztBQUM5QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBUyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for switch-statements 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  'francis',
  'result',
  'emmett',
  "arnold",
  'betty',
  $\`danielle\`,
  \`charles\`,
]);
const tag = () => D[1];

export const foo = (value) => {
  const emmett = D[2];

  switch (value) {
    case D[3]:
      return 1;

    case D[4]:
      return 2;

    case \`charles\`:
      return 3;

    case tag(D[5]):
      return 4;

    case emmett:
      return 5;

    case D[0]:
      return 6;

    default:
      return 7;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgZm9vID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGVtbWV0dCA9ICdlbW1ldHQnO1xuXG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIFwiYXJub2xkXCI6XG4gICAgICByZXR1cm4gMTtcblxuICAgIGNhc2UgJ2JldHR5JzpcbiAgICAgIHJldHVybiAyO1xuXG4gICAgY2FzZSBgY2hhcmxlc2A6XG4gICAgICByZXR1cm4gMztcblxuICAgIGNhc2UgdGFnYGRhbmllbGxlYDpcbiAgICAgIHJldHVybiA0O1xuXG4gICAgY2FzZSBlbW1ldHQ6XG4gICAgICByZXR1cm4gNTtcblxuICAgIGNhc2UnZnJhbmNpcyc6XG4gICAgICByZXR1cm4gNjtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gNztcbiAgfVxufTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTSxJQUFRO0FBQzFCO0FBQ0EsT0FBTyxNQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssS0FBSztBQUM5QixFQUFFLE1BQU0sTUFBTSxHQUFHLElBQVE7QUFDekI7QUFDQSxFQUFFLFFBQVEsS0FBSztBQUNmLElBQUksS0FBSyxJQUFRO0FBQ2pCLE1BQU0sT0FBTztBQUNiO0FBQ0EsSUFBSSxLQUFLLElBQU87QUFDaEIsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLE1BQU0sT0FBTztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxHQUFHLEtBQUMsQUFBUTtBQUNyQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxNQUFNO0FBQ2YsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLElBQUksS0FBUztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUk7QUFDSixNQUFNLE9BQU87QUFDYjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for tagged-templates-only 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  $\`bar\${0}\`,
]);
function foo() { }
console.log(foo(D[0], 1000))
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGZvbygpIHsgfVxuY29uc29sZS5sb2coZm9vYGJhciR7MTAwMH1gKVxuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxTQUFTLEdBQUcsR0FBRztBQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFDLEFBQUcsRUFBRSxJQUFLIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for templates 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  \`\\\`'"\\u{6F}\`,
  \`abc\\r\\n\\t123\`,
  \`gallingly\`,
  \`hairbrush\`,
  \`idealists\`,
  \`absolute\`,
  \`backdrops\`,
  \`cacophony\`,
  \`dachshund\`,
  \`eagerness\`,
  \`fabricate\`,
  \`newlyweds\`,
  \`orthodoxy\`,
  \`paralyzed\`,
  \`quadrants\`,
  \`reflexive\`,
  \`waferlike\`,
  \`yardstick\`,
  $\`superior\${0}vertical\`,
  $\`triangle\${0}umbrella\`,
  $\`\`,
  $\`judgment\`,
  $\`keyboard\${0}laughter\${0}material\`,
  $\`abstract\`,
  $\`doubtful\${0}endeavor\`,
  $\`bacteria\${0}contrast\`,
]);
const foo = () => {};
const bar = 1;

// Trivial template expressions.
const trivial1 = \`\`;
const trivial2 = \`\${D[5]}\`;
const trivial3 = \`\${D[6]}\${bar}\`;
const trivial4 = \`\${bar}\${D[7]}\`;
const trivial5 = \`\${D[8]}\${bar}\`;
const trivial6 = \`\${D[9]}\${bar}\${D[10]}\`;
const trivial7 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;

// Escape sequences.
const escape1 = \`\${D[1]}\`;
const escape2 = \`\${D[0]}\`;

// Tagged template expressions.
const tagged1 = foo(D[20]);
const tagged2 = foo(D[21]);
const tagged3 = foo(D[22], bar, bar);

// Nested template expressions.
const nested1 = \`\${D[11]}\${\`\${D[12]}\${\`\${D[13]}\`}\${D[14]}\`}\${D[15]}\`;
const nested2 = foo(D[18], foo(D[19], bar));
const nested3 = \`\${D[16]}\${bar}\${D[17]}\${foo(D[23])}\`;

// Using the results of template expressions as a tag.
const resulttag1 = foo(D[25], bar)(D[24], bar);

// Reuse of quasis and template expressions that we've already seen.
const reuse1 = \`\${D[5]}\`;
const reuse2 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;
const reuse3 = \`\${D[0]}\`;
const reuse4 = foo(D[18], foo(D[19], bar));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuY29uc3QgYmFyID0gMTtcblxuLy8gVHJpdmlhbCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRyaXZpYWwxID0gYGA7XG5jb25zdCB0cml2aWFsMiA9IGBhYnNvbHV0ZWA7XG5jb25zdCB0cml2aWFsMyA9IGBiYWNrZHJvcHMke2Jhcn1gO1xuY29uc3QgdHJpdmlhbDQgPSBgJHtiYXJ9Y2Fjb3Bob255YDtcbmNvbnN0IHRyaXZpYWw1ID0gYGRhY2hzaHVuZCR7YmFyfWA7XG5jb25zdCB0cml2aWFsNiA9IGBlYWdlcm5lc3Mke2Jhcn1mYWJyaWNhdGVgO1xuY29uc3QgdHJpdmlhbDcgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcblxuLy8gRXNjYXBlIHNlcXVlbmNlcy5cbmNvbnN0IGVzY2FwZTEgPSBgYWJjXFxyXFxuXFx0MTIzYDtcbmNvbnN0IGVzY2FwZTIgPSBgXFxgJ1wiXFx1ezZGfWA7XG5cbi8vIFRhZ2dlZCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRhZ2dlZDEgPSBmb29gYDtcbmNvbnN0IHRhZ2dlZDIgPSBmb29ganVkZ21lbnRgO1xuY29uc3QgdGFnZ2VkMyA9IGZvb2BrZXlib2FyZCR7YmFyfWxhdWdodGVyJHtiYXJ9bWF0ZXJpYWxgO1xuXG4vLyBOZXN0ZWQgdGVtcGxhdGUgZXhwcmVzc2lvbnMuXG5jb25zdCBuZXN0ZWQxID0gYG5ld2x5d2VkcyR7YG9ydGhvZG94eSR7YHBhcmFseXplZGB9cXVhZHJhbnRzYH1yZWZsZXhpdmVgO1xuY29uc3QgbmVzdGVkMiA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbmNvbnN0IG5lc3RlZDMgPSBgd2FmZXJsaWtlJHtiYXJ9eWFyZHN0aWNrJHtmb29gYWJzdHJhY3RgfWA7XG5cbi8vIFVzaW5nIHRoZSByZXN1bHRzIG9mIHRlbXBsYXRlIGV4cHJlc3Npb25zIGFzIGEgdGFnLlxuY29uc3QgcmVzdWx0dGFnMSA9IGZvb2BiYWN0ZXJpYSR7YmFyfWNvbnRyYXN0YGBkb3VidGZ1bCR7YmFyfWVuZGVhdm9yYDtcblxuLy8gUmV1c2Ugb2YgcXVhc2lzIGFuZCB0ZW1wbGF0ZSBleHByZXNzaW9ucyB0aGF0IHdlJ3ZlIGFscmVhZHkgc2Vlbi5cbmNvbnN0IHJldXNlMSA9IGBhYnNvbHV0ZWA7XG5jb25zdCByZXVzZTIgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcbmNvbnN0IHJldXNlMyA9IGBcXGAnXCJcXHV7NkZ9YDtcbmNvbnN0IHJldXNlNCA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU07QUFDbEIsTUFBTSxHQUFHLEdBQUc7QUFDWjtBQUNBO0FBQ0EsTUFBTSxRQUFRLElBQUk7QUFDbEIsTUFBTSxRQUFRLElBQUksT0FBUTtBQUMxQixNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQ2pDLE1BQU0sUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQVM7QUFDakMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQztBQUNqQyxNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVM7QUFDMUMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDLE9BQVMsRUFBRSxHQUFHLENBQUM7QUFDL0Q7QUFDQTtBQUNBLE1BQU0sT0FBTyxJQUFJLE9BQVk7QUFDN0IsTUFBTSxPQUFPLElBQUksT0FBVTtBQUMzQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDO0FBQ3BCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRO0FBQzVCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRLEVBQUUsR0FBRyxBQUFDLEFBQVEsRUFBRSxHQUFHLEFBQUMsQUFBUTtBQUN4RDtBQUNBO0FBQ0EsTUFBTSxPQUFPLElBQUksUUFBUyxHQUFHLFFBQVMsR0FBRyxRQUFTLEVBQUUsUUFBUyxFQUFFLFFBQVM7QUFDeEUsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUTtBQUNsRSxNQUFNLE9BQU8sSUFBSSxRQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVMsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFO0FBQ3pEO0FBQ0E7QUFDQSxNQUFNLFVBQVUsR0FBRyxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLE9BQUUsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRO0FBQ3JFO0FBQ0E7QUFDQSxNQUFNLE1BQU0sSUFBSSxPQUFRO0FBQ3hCLE1BQU0sTUFBTSxJQUFJLE9BQVMsRUFBRSxHQUFHLENBQUMsT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQzdELE1BQU0sTUFBTSxJQUFJLE9BQVU7QUFDMUIsTUFBTSxNQUFNLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for ternary-expressions 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  'katherine',
  "charles",
  'ophelia',
  'richard',
  'result',
  "arnold",
  'george',
  'marcia',
  'nathan',
  "betty",
  'harry',
  'irina',
  'peter',
  'quinn',
  'jack',
  $\`danielle\`,
  $\`emmett\`,
  $\`francine\`,
]);
const tag = () => D[4];

export const arnold = D[5] ? D[9] : D[1];
export const danielle = tag(D[15]) ? tag(D[16]) : tag(D[17]);
export const george = D[6] ? (D[10], D[11]) : (D[14], D[0]);
export const leopold = { [D[7]]: D[8] } ? { [D[2]]: D[12] } : { 'quinn': D[3] };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgYXJub2xkID0gXCJhcm5vbGRcIiA/IFwiYmV0dHlcIiA6IFwiY2hhcmxlc1wiO1xuZXhwb3J0IGNvbnN0IGRhbmllbGxlID0gdGFnYGRhbmllbGxlYCA/IHRhZ2BlbW1ldHRgIDogdGFnYGZyYW5jaW5lYDtcbmV4cG9ydCBjb25zdCBnZW9yZ2UgPSAnZ2VvcmdlJyA/ICgnaGFycnknLCAnaXJpbmEnKSA6ICgnamFjaycsICdrYXRoZXJpbmUnKTtcbmV4cG9ydCBjb25zdCBsZW9wb2xkID0geyAnbWFyY2lhJzogJ25hdGhhbicgfSA/IHsgJ29waGVsaWEnOiAncGV0ZXInIH0gOiB7ICdxdWlubic6ICdyaWNoYXJkJyB9O1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBUTtBQUMxQjtBQUNBLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLElBQU8sR0FBRyxJQUFTO0FBQ3BELE9BQU8sTUFBTSxRQUFRLEdBQUcsR0FBRyxNQUFDLEFBQVEsSUFBSSxHQUFHLE1BQUMsQUFBTSxJQUFJLEdBQUcsTUFBQyxBQUFRO0FBQ2xFLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLENBQUMsS0FBTyxFQUFFLEtBQU8sSUFBSSxDQUFDLEtBQU0sRUFBRSxJQUFXO0FBQzFFLE9BQU8sTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFRLEVBQUUsSUFBUSxLQUFLLEVBQUUsTUFBUyxFQUFFLEtBQU8sS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFTIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for trivial 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  "test",
]);
console.log(/* (attached comment) */ D[0]);

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG5cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxDQUFDLEdBQUcsMEJBQTBCLElBQU07QUFDM0MiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`should be able to set a custom imported addToDictionary helper > for typescript-enums 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  'Number Three',
  'Number One',
  'Letter A',
  "Letter B",
  "Number Two",
  'Number Two',
  'Letter C',
  'Alpha',
  "Beta",
  \`Letter C\`,
  \`Gamma\`,
]);
enum GreekLetters {
  Alpha = 'Alpha',
  Beta = "Beta",
  Gamma = \`Gamma\`,
}

enum RomanLetters {
  'Letter A' = 'Letter A',
  "Letter B" = "Letter B",
  'Letter C' = \`Letter C\`,
}

const enum ArabicNumbers {
  'Number One' = 'Number One',
  "Number Two" = 'Number Two',
  'Number Three' = 'Number Three',
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImVudW0gR3JlZWtMZXR0ZXJzIHtcbiAgQWxwaGEgPSAnQWxwaGEnLFxuICBCZXRhID0gXCJCZXRhXCIsXG4gIEdhbW1hID0gYEdhbW1hYCxcbn1cblxuZW51bSBSb21hbkxldHRlcnMge1xuICAnTGV0dGVyIEEnID0gJ0xldHRlciBBJyxcbiAgXCJMZXR0ZXIgQlwiID0gXCJMZXR0ZXIgQlwiLFxuICAnTGV0dGVyIEMnID0gYExldHRlciBDYCxcbn1cblxuY29uc3QgZW51bSBBcmFiaWNOdW1iZXJzIHtcbiAgJ051bWJlciBPbmUnID0gJ051bWJlciBPbmUnLFxuICBcIk51bWJlciBUd29cIiA9ICdOdW1iZXIgVHdvJyxcbiAgJ051bWJlciBUaHJlZScgPSAnTnVtYmVyIFRocmVlJyxcbn1cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLEtBQUssWUFBWTtBQUNqQixFQUFFLEtBQUssR0FBRyxPQUFPO0FBQ2pCLEVBQUUsSUFBSSxHQUFHLE1BQU07QUFDZixFQUFFLEtBQUssSUFBSSxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLLFlBQVk7QUFDakIsRUFBRSxVQUFVLEdBQUcsVUFBVTtBQUN6QixFQUFFLFVBQVUsR0FBRyxVQUFVO0FBQ3pCLEVBQUUsVUFBVSxJQUFJLFFBQVE7QUFDeEI7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixFQUFFLFlBQVksR0FBRyxZQUFZO0FBQzdCLEVBQUUsWUFBWSxHQUFHLFlBQVk7QUFDN0IsRUFBRSxjQUFjLEdBQUcsY0FBYztBQUNqQyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for typescript-inheritance 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  'SpecificNode',
  'pattern',
]);
import { Variant } from './variant';

export class SpecificNode
    extends Variant(D[0])<[string, {}]>
{
    pattern(): string {
        return { escaped: D[1] };
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhcmlhbnQgfSBmcm9tICcuL3ZhcmlhbnQnO1xuXG5leHBvcnQgY2xhc3MgU3BlY2lmaWNOb2RlXG4gICAgZXh0ZW5kcyBWYXJpYW50KCdTcGVjaWZpY05vZGUnKTxbc3RyaW5nLCB7fV0+XG57XG4gICAgcGF0dGVybigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4geyBlc2NhcGVkOiAncGF0dGVybicgfTtcbiAgICB9XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTLE9BQU8sUUFBUSxXQUFXO0FBQ25DO0FBQ0EsT0FBTyxNQUFNLFlBQVk7QUFDekIsWUFBWSxPQUFPLENBQUMsSUFBYyxDQUFDO0FBQ25DO0FBQ0EsSUFBSSxPQUFPLEVBQUUsU0FBUztBQUN0QixRQUFRLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBUztBQUNuQztBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for typescript-namespaces 1`] = `
"import { addToDictionary as $ } from '@custom/helpers.mjs';
const D = $([
  'betelgeuse',
  'cassiopeia',
  'andromeda',
]);
declare module SomeModule {
  const variable = D[2];
}

declare module "SomeModule" {
  const variable = D[0];
}

declare namespace SomeNamespace {
  const variable = D[1];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbW9kdWxlIFNvbWVNb2R1bGUge1xuICBjb25zdCB2YXJpYWJsZSA9ICdhbmRyb21lZGEnO1xufVxuXG5kZWNsYXJlIG1vZHVsZSBcIlNvbWVNb2R1bGVcIiB7XG4gIGNvbnN0IHZhcmlhYmxlID0gJ2JldGVsZ2V1c2UnO1xufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBTb21lTmFtZXNwYWNlIHtcbiAgY29uc3QgdmFyaWFibGUgPSAnY2Fzc2lvcGVpYSc7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMEJBQTBCO0FBQzFCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBVztBQUM5QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQiIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`should be able to set a custom imported addToDictionary helper > for unwanted 1`] = `
"// No strings in this file should appear in the dictionary.
"use strict";
"use server";
"use client";
import "unwanted1.js";
import foo from "unwanted2.js";
import { foo } from "unwanted3.js";
import * as foo from "unwanted4.js";
import { foo as bar1 } from "unwanted5.js";
import { default as bar2 } from "unwanted6.js";
import { "unwanted7" as bar3 } from "unwanted8.js";
export { bar1 };
export { bar1 as bar2 };
export { bar1 as "unwanted9" };
export * from "unwanted10.js";
export * as foo from "unwanted11.js";
export { bar } from "unwanted12.js";
export { default } from "unwanted13.js";
export { default as bar } from "unwanted14.js";
export { foo as "unwanted15" } from "unwanted16.js";
const bar4 = require("unwanted17.js");
const bar5 = import("unwanted18.js");
function doSomething() {
  "use strict";
  return 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHNlcnZlclwiO1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgXCJ1bndhbnRlZDEuanNcIjtcbmltcG9ydCBmb28gZnJvbSBcInVud2FudGVkMi5qc1wiO1xuaW1wb3J0IHsgZm9vIH0gZnJvbSBcInVud2FudGVkMy5qc1wiO1xuaW1wb3J0ICogYXMgZm9vIGZyb20gXCJ1bndhbnRlZDQuanNcIjtcbmltcG9ydCB7IGZvbyBhcyBiYXIxIH0gZnJvbSBcInVud2FudGVkNS5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBiYXIyIH0gZnJvbSBcInVud2FudGVkNi5qc1wiO1xuaW1wb3J0IHsgXCJ1bndhbnRlZDdcIiBhcyBiYXIzIH0gZnJvbSBcInVud2FudGVkOC5qc1wiO1xuZXhwb3J0IHsgYmFyMSB9O1xuZXhwb3J0IHsgYmFyMSBhcyBiYXIyIH07XG5leHBvcnQgeyBiYXIxIGFzIFwidW53YW50ZWQ5XCIgfTtcbmV4cG9ydCAqIGZyb20gXCJ1bndhbnRlZDEwLmpzXCI7XG5leHBvcnQgKiBhcyBmb28gZnJvbSBcInVud2FudGVkMTEuanNcIjtcbmV4cG9ydCB7IGJhciB9IGZyb20gXCJ1bndhbnRlZDEyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcInVud2FudGVkMTMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmFyIH0gZnJvbSBcInVud2FudGVkMTQuanNcIjtcbmV4cG9ydCB7IGZvbyBhcyBcInVud2FudGVkMTVcIiB9IGZyb20gXCJ1bndhbnRlZDE2LmpzXCI7XG5jb25zdCBiYXI0ID0gcmVxdWlyZShcInVud2FudGVkMTcuanNcIik7XG5jb25zdCBiYXI1ID0gaW1wb3J0KFwidW53YW50ZWQxOC5qc1wiKTtcbmZ1bmN0aW9uIGRvU29tZXRoaW5nKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgcmV0dXJuIDA7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixPQUFPLGNBQWM7QUFDckIsT0FBTyxHQUFHLE1BQU0sY0FBYztBQUM5QixTQUFTLEdBQUcsUUFBUSxjQUFjO0FBQ2xDLE9BQU8sS0FBSyxHQUFHLE1BQU0sY0FBYztBQUNuQyxTQUFTLEdBQUcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUMxQyxTQUFTLE9BQU8sSUFBSSxJQUFJLFFBQVEsY0FBYztBQUM5QyxTQUFTLFdBQVcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUNsRCxTQUFTLElBQUk7QUFDYixTQUFTLElBQUksSUFBSSxJQUFJO0FBQ3JCLFNBQVMsSUFBSSxJQUFJLFdBQVc7QUFDNUIsY0FBYyxlQUFlO0FBQzdCLE9BQU8sS0FBSyxHQUFHLE1BQU0sZUFBZTtBQUNwQyxTQUFTLEdBQUcsUUFBUSxlQUFlO0FBQ25DLFNBQVMsT0FBTyxRQUFRLGVBQWU7QUFDdkMsU0FBUyxPQUFPLElBQUksR0FBRyxRQUFRLGVBQWU7QUFDOUMsU0FBUyxHQUFHLElBQUksWUFBWSxRQUFRLGVBQWU7QUFDbkQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLGVBQWU7QUFDcEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxlQUFlO0FBQ25DLFNBQVMsV0FBVyxHQUFHO0FBQ3ZCLEVBQUUsWUFBWTtBQUNkLEVBQUUsT0FBTztBQUNUIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`should be able to set a custom imported addToDictionary helper > for unwanted-typescript 1`] = `
"// No strings in this file should appear in the dictionary.
let foo: 'unwanted_var_type_1' | "unwanted_var_type_2";

function bar(
  x: "unwanted_arg_type_1",
  y: 'unwanted_arg_type_2'
): 'unwanted_return_value_type_3' | undefined {
  return undefined;
}

type ObjectType = {
  'unwanted_object_key_type_1': 'unwanted_object_value_type_1'
};

interface InterfaceType {
  'unwanted_interface_key_type_1': 'unwanted_interface_value_type_1'
};

declare let baz: 'unwanted_declared_var_type_1';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5sZXQgZm9vOiAndW53YW50ZWRfdmFyX3R5cGVfMScgfCBcInVud2FudGVkX3Zhcl90eXBlXzJcIjtcblxuZnVuY3Rpb24gYmFyKFxuICB4OiBcInVud2FudGVkX2FyZ190eXBlXzFcIixcbiAgeTogJ3Vud2FudGVkX2FyZ190eXBlXzInXG4pOiAndW53YW50ZWRfcmV0dXJuX3ZhbHVlX3R5cGVfMycgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG50eXBlIE9iamVjdFR5cGUgPSB7XG4gICd1bndhbnRlZF9vYmplY3Rfa2V5X3R5cGVfMSc6ICd1bndhbnRlZF9vYmplY3RfdmFsdWVfdHlwZV8xJ1xufTtcblxuaW50ZXJmYWNlIEludGVyZmFjZVR5cGUge1xuICAndW53YW50ZWRfaW50ZXJmYWNlX2tleV90eXBlXzEnOiAndW53YW50ZWRfaW50ZXJmYWNlX3ZhbHVlX3R5cGVfMSdcbn07XG5cbmRlY2xhcmUgbGV0IGJhejogJ3Vud2FudGVkX2RlY2xhcmVkX3Zhcl90eXBlXzEnO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxHQUFHO0FBQ1A7QUFDQSxTQUFTLEdBQUc7QUFDWixFQUFFLENBQUM7QUFDSCxFQUFFLENBQUM7QUFDSCxDQUFDLDZDQUE2QztBQUM5QyxFQUFFLE9BQU8sU0FBUztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxVQUFVO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksR0FBRyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for common-cases 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "some string",
  \`something\`,
  "abc",
  $\`123\${0}another thing\`,
]);
import { foo } from "my-module.js";

// const constant = "some string";
const constant = D[0];

foo({
  // bar: "abc",
  bar: D[2],
  // baz: \`something\${constant}456\`,
  baz: \`\${D[1]}\${constant}456\`,
  // bat: foo\`123\${constant}another thing\`,
  bat: foo(D[3], constant),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvbyB9IGZyb20gXCJteS1tb2R1bGUuanNcIjtcblxuLy8gY29uc3QgY29uc3RhbnQgPSBcInNvbWUgc3RyaW5nXCI7XG5jb25zdCBjb25zdGFudCA9IFwic29tZSBzdHJpbmdcIjtcblxuZm9vKHtcbiAgLy8gYmFyOiBcImFiY1wiLFxuICBiYXI6IFwiYWJjXCIsXG4gIC8vIGJhejogYHNvbWV0aGluZyR7Y29uc3RhbnR9NDU2YCxcbiAgYmF6OiBgc29tZXRoaW5nJHtjb25zdGFudH00NTZgLFxuICAvLyBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxuICBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxufSk7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVMsR0FBRyxRQUFRLGNBQWM7QUFDbEM7QUFDQTtBQUNBLE1BQU0sUUFBUSxHQUFHLElBQWE7QUFDOUI7QUFDQSxHQUFHLENBQUM7QUFDSjtBQUNBLEVBQUUsR0FBRyxFQUFFLElBQUs7QUFDWjtBQUNBLEVBQUUsR0FBRyxHQUFHLE9BQVMsRUFBRSxRQUFRLENBQUMsR0FBRztBQUMvQjtBQUNBLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBQyxBQUFHLEVBQUUsUUFBUSxBQUFDLEFBQWE7QUFDdEMiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the CJS version should transform code correctly > for commonjs-require 1`] = `
"const { $ } = require(' datadog:privacy-helpers.cjs');
const D = $([
  'test',
]);
const foo = require('foo-module');
foo(D[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9IHJlcXVpcmUoJ2Zvby1tb2R1bGUnKTtcbmZvbygndGVzdCcpO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsWUFBWTtBQUNoQyxHQUFHLENBQUMsSUFBTSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for conflict 1`] = `
"import { $ as B } from ' datadog:privacy-helpers.mjs';
const A = B([
  "test",
]);
// Create conflicting bindings for the default names of the helpers.
const $ = 123;
const D = 456;
console.log(/* (attached comment) */ A[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBjb25mbGljdGluZyBiaW5kaW5ncyBmb3IgdGhlIGRlZmF1bHQgbmFtZXMgb2YgdGhlIGhlbHBlcnMuXG5jb25zdCAkID0gMTIzO1xuY29uc3QgRCA9IDQ1NjtcbmNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsTUFBTSxDQUFDLEdBQUc7QUFDVixNQUFNLENBQUMsR0FBRztBQUNWLE9BQU8sQ0FBQyxHQUFHLDBCQUEwQixJQUFNIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for jsx 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "Escape special characters with the \\"\\\\\\" character.",
  "Text content. With more than one line. And another.",
  " entity reference",
  'quotes"inside',
  'with"\\'quotes',
  '--top-offset',
  "some content",
  "something'",
  'error-info',
  'value',
  \`--is-stuck\`,
  \`px\`,
]);
import {
  AnotherComponent,
  ErrorHandler,
  Flex,
  SomeComponent,
  SomethingElse,
  BLOCK,
  classNames,
  isStuck,
  reportError,
  topOffset,
} from 'framework';

export function MyComponent(props) {
  return (
    <SomeComponent attr={D[7]} with={D[3]}>
      <AnotherComponent attr={D[4]} />
      <SomethingElse style={{
        key: D[9],
        anotherKey: props.key2,
      }}
      >{D[1]}</SomethingElse>
      <ErrorHandler
        onError={(info) => {
          reportError({ [D[8]]: info });
        }}
      />
      <Flex
        style={
          {
            [D[5]]: \`\${topOffset}px\`,
          }
        }
        className={classNames(BLOCK, {
          [\`\${BLOCK}\${D[10]}\`]: isStuck,
        })}
      >{D[0]}</Flex>
      <svg
        fill={props.fill}
        content={(() => { return D[6]; })()}
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 192 192"
        data={D[2]}
      >
        <g>
          <rect x='84' y='156' width='20' height='20' />
        </g>
        <path
          d="M102,140H86v-20c0-13.5,10.1-24,22.9-24c13.2,0,23-3,28.9-9c5.9-5.9,6.1-12.9,6.1-13l0-0.4l0-0.4c0-0.4,0.8-11.6-7.6-20.8
C128.8,44.2,115.9,40,98,40c-20.9,0-35.6,5.7-43.7,16.9c-6,8.3-6.3,17-6.3,17.1L32,74c0-1.3,0.2-13.3,8.7-25.5
C54.6,28.2,79.5,24,98,24c22.7,0,39.7,6,50.5,17.9c12.2,13.4,11.7,29.6,11.5,32.5c-0.1,2.5-0.9,14-10.8,23.9
c-9.1,9.1-22.6,13.7-40.3,13.7c-4.6,0-6.9,4-6.9,8V140z"
        />
      </svg>
    </SomeComponent>
  );
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzeCIsIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBbm90aGVyQ29tcG9uZW50LFxuICBFcnJvckhhbmRsZXIsXG4gIEZsZXgsXG4gIFNvbWVDb21wb25lbnQsXG4gIFNvbWV0aGluZ0Vsc2UsXG4gIEJMT0NLLFxuICBjbGFzc05hbWVzLFxuICBpc1N0dWNrLFxuICByZXBvcnRFcnJvcixcbiAgdG9wT2Zmc2V0LFxufSBmcm9tICdmcmFtZXdvcmsnO1xuXG5leHBvcnQgZnVuY3Rpb24gTXlDb21wb25lbnQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U29tZUNvbXBvbmVudCBhdHRyPVwic29tZXRoaW5nJ1wiIHdpdGg9J3F1b3Rlc1wiaW5zaWRlJz5cbiAgICAgIDxBbm90aGVyQ29tcG9uZW50IGF0dHI9eyd3aXRoXCJcXCdxdW90ZXMnfSAvPlxuICAgICAgPFNvbWV0aGluZ0Vsc2Ugc3R5bGU9e3tcbiAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICBhbm90aGVyS2V5OiBwcm9wcy5rZXkyLFxuICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgVGV4dCBjb250ZW50LlxuXG4gICAgICAgIFdpdGggbW9yZSB0aGFuIG9uZSBsaW5lLlxuXG4gICAgICAgIEFuZCBhbm90aGVyLlxuICAgICAgPC9Tb21ldGhpbmdFbHNlPlxuICAgICAgPEVycm9ySGFuZGxlclxuICAgICAgICBvbkVycm9yPXsoaW5mbykgPT4ge1xuICAgICAgICAgIHJlcG9ydEVycm9yKHsgJ2Vycm9yLWluZm8nOiBpbmZvIH0pO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxGbGV4XG4gICAgICAgIHN0eWxlPXtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAnLS10b3Atb2Zmc2V0JzogYCR7dG9wT2Zmc2V0fXB4YCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKEJMT0NLLCB7XG4gICAgICAgICAgW2Ake0JMT0NLfS0taXMtc3R1Y2tgXTogaXNTdHVjayxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgd2l0aCB0aGUgXCJcXFwiIGNoYXJhY3Rlci5cbiAgICAgIDwvRmxleD5cbiAgICAgIDxzdmdcbiAgICAgICAgZmlsbD17cHJvcHMuZmlsbH1cbiAgICAgICAgY29udGVudD17KCgpID0+IHsgcmV0dXJuIFwic29tZSBjb250ZW50XCI7IH0pKCl9XG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE5MiAxOTJcIlxuICAgICAgICBkYXRhPVwiJm5ic3A7ZW50aXR5IHJlZmVyZW5jZVwiXG4gICAgICA+XG4gICAgICAgIDxnPlxuICAgICAgICAgIDxyZWN0IHg9Jzg0JyB5PScxNTYnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgLz5cbiAgICAgICAgPC9nPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNMTAyLDE0MEg4NnYtMjBjMC0xMy41LDEwLjEtMjQsMjIuOS0yNGMxMy4yLDAsMjMtMywyOC45LTljNS45LTUuOSw2LjEtMTIuOSw2LjEtMTNsMC0wLjRsMC0wLjRjMC0wLjQsMC44LTExLjYtNy42LTIwLjhcbkMxMjguOCw0NC4yLDExNS45LDQwLDk4LDQwYy0yMC45LDAtMzUuNiw1LjctNDMuNywxNi45Yy02LDguMy02LjMsMTctNi4zLDE3LjFMMzIsNzRjMC0xLjMsMC4yLTEzLjMsOC43LTI1LjVcbkM1NC42LDI4LjIsNzkuNSwyNCw5OCwyNGMyMi43LDAsMzkuNyw2LDUwLjUsMTcuOWMxMi4yLDEzLjQsMTEuNywyOS42LDExLjUsMzIuNWMtMC4xLDIuNS0wLjksMTQtMTAuOCwyMy45XG5jLTkuMSw5LjEtMjIuNiwxMy43LTQwLjMsMTMuN2MtNC42LDAtNi45LDQtNi45LDhWMTQwelwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L1NvbWVDb21wb25lbnQ+XG4gICk7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxFQUFFLGdCQUFnQjtBQUNsQixFQUFFLFlBQVk7QUFDZCxFQUFFLElBQUk7QUFDTixFQUFFLGFBQWE7QUFDZixFQUFFLGFBQWE7QUFDZixFQUFFLEtBQUs7QUFDUCxFQUFFLFVBQVU7QUFDWixFQUFFLE9BQU87QUFDVCxFQUFFLFdBQVc7QUFDYixFQUFFLFNBQVM7QUFDWCxPQUFPLFdBQVc7QUFDbEI7QUFDQSxPQUFPLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUNuQyxFQUFFLE9BQU87QUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFZLENBQUMsSUFBSSxDQUFDLE1BQWUsQ0FBQztBQUMxRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBZSxJQUFJO0FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDNUIsUUFBUSxHQUFHLEVBQUUsSUFBTztBQUNwQixRQUFRLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSTtBQUM5QjtBQUNBLE9BQU8sQUFDUCxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsTUFBTSxFQUFFLGFBQWEsQ0FBQztBQUN0QixNQUFNLENBQUMsWUFBWTtBQUNuQixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLO0FBQzNCLFVBQVUsV0FBVyxDQUFDLEVBQUUsTUFBWSxFQUFFLElBQUk7QUFDMUM7QUFDQSxRQUFRO0FBQ1IsTUFBTSxDQUFDLElBQUk7QUFDWCxRQUFRLEtBQUssQ0FBQztBQUNkLFVBQVU7QUFDVixZQUFZLE1BQWMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzNDO0FBQ0E7QUFDQSxRQUFRLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDckMsVUFBVSxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVUsSUFBSSxPQUFPO0FBQ3pDO0FBQ0EsT0FBTyxBQUNQLEFBQ0EsTUFBTSxFQUFFLElBQUksQ0FBQztBQUNiLE1BQU0sQ0FBQyxHQUFHO0FBQ1YsUUFBUSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSTtBQUN4QixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sSUFBYztBQUMvQyxRQUFRLEtBQUssQ0FBQyw0QkFBNEI7QUFDMUMsUUFBUSxPQUFPLENBQUMsYUFBYTtBQUM3QixRQUFRLElBQUksQ0FBQyxNQUF3QjtBQUNyQyxPQUFPO0FBQ1AsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNYLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRztBQUN4RCxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ1osUUFBUSxDQUFDLElBQUk7QUFDYixVQUFVLENBQUMsQ0FBQztBQUNaO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsVUFBVTtBQUNWLE1BQU0sRUFBRSxHQUFHLENBQUM7QUFDWixJQUFJLEVBQUUsYUFBYTtBQUNuQjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for reference-size 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "abcd",
  \`abcdefghi\`,
  "abcde",
  "abc",
  \`abcdefgh\`,
  "xyz0",
  "xyz",
  $\`\`,
  $\`\${0}\${0}\${0}\`,
  "a",
  "ab",
  \`abcde\`,
  \`abcdef\`,
  \`abcdefg\`,
]);
const foo = () => {};

// For short strings, we should use the original string instead of replacing it with a
// dictionary reference.
const short1 = "";
const short2 = "a";
const short3 = "ab";

// Longer strings should be replaced with a dictionary reference.
const long1 = D[3];
const long2 = D[0];
const long3 = D[2];

// Similarly, we should keep short quasis in template literals instead of replacing them
// with a dictionary reference.
const quasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// The dictionary now contains 10 items, which will make the references for any further
// items larger because the size of the index will increase by one character. However,
// we should still be able to use references for all of the examples below, because we
// should be smart enough to reorder the dictionary to make the new items fit.
const twoDigits1 = D[3];
const twoDigits2 = D[0];
const twoDigits3 = D[6];
const twoDigits4 = D[5];

// The same applies to quasis.
const twoDigitsQuasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// We should never replace an empty string, or a sequence of empty quasis, with a
// dictionary reference. (Although for tagged templates, it's a bit trickier to detect
// this case, and so we will continue to generate dictionary entries for them.)
const empty1 = "";
const empty2 = "";
const empty3 = \`\`;
const empty4 = \`\${0}\${1}\${2}\`;
const empty5 = foo(D[7]);
const empty6 = foo(D[8], 0, 1, 2);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBGb3Igc2hvcnQgc3RyaW5ncywgd2Ugc2hvdWxkIHVzZSB0aGUgb3JpZ2luYWwgc3RyaW5nIGluc3RlYWQgb2YgcmVwbGFjaW5nIGl0IHdpdGggYVxuLy8gZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBzaG9ydDEgPSBcIlwiO1xuY29uc3Qgc2hvcnQyID0gXCJhXCI7XG5jb25zdCBzaG9ydDMgPSBcImFiXCI7XG5cbi8vIExvbmdlciBzdHJpbmdzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGEgZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBsb25nMSA9IFwiYWJjXCI7XG5jb25zdCBsb25nMiA9IFwiYWJjZFwiO1xuY29uc3QgbG9uZzMgPSBcImFiY2RlXCI7XG5cbi8vIFNpbWlsYXJseSwgd2Ugc2hvdWxkIGtlZXAgc2hvcnQgcXVhc2lzIGluIHRlbXBsYXRlIGxpdGVyYWxzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbi8vIHdpdGggYSBkaWN0aW9uYXJ5IHJlZmVyZW5jZS5cbmNvbnN0IHF1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBUaGUgZGljdGlvbmFyeSBub3cgY29udGFpbnMgMTAgaXRlbXMsIHdoaWNoIHdpbGwgbWFrZSB0aGUgcmVmZXJlbmNlcyBmb3IgYW55IGZ1cnRoZXJcbi8vIGl0ZW1zIGxhcmdlciBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSBpbmRleCB3aWxsIGluY3JlYXNlIGJ5IG9uZSBjaGFyYWN0ZXIuIEhvd2V2ZXIsXG4vLyB3ZSBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byB1c2UgcmVmZXJlbmNlcyBmb3IgYWxsIG9mIHRoZSBleGFtcGxlcyBiZWxvdywgYmVjYXVzZSB3ZVxuLy8gc2hvdWxkIGJlIHNtYXJ0IGVub3VnaCB0byByZW9yZGVyIHRoZSBkaWN0aW9uYXJ5IHRvIG1ha2UgdGhlIG5ldyBpdGVtcyBmaXQuXG5jb25zdCB0d29EaWdpdHMxID0gXCJhYmNcIjtcbmNvbnN0IHR3b0RpZ2l0czIgPSBcImFiY2RcIjtcbmNvbnN0IHR3b0RpZ2l0czMgPSBcInh5elwiO1xuY29uc3QgdHdvRGlnaXRzNCA9IFwieHl6MFwiO1xuXG4vLyBUaGUgc2FtZSBhcHBsaWVzIHRvIHF1YXNpcy5cbmNvbnN0IHR3b0RpZ2l0c1F1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBXZSBzaG91bGQgbmV2ZXIgcmVwbGFjZSBhbiBlbXB0eSBzdHJpbmcsIG9yIGEgc2VxdWVuY2Ugb2YgZW1wdHkgcXVhc2lzLCB3aXRoIGFcbi8vIGRpY3Rpb25hcnkgcmVmZXJlbmNlLiAoQWx0aG91Z2ggZm9yIHRhZ2dlZCB0ZW1wbGF0ZXMsIGl0J3MgYSBiaXQgdHJpY2tpZXIgdG8gZGV0ZWN0XG4vLyB0aGlzIGNhc2UsIGFuZCBzbyB3ZSB3aWxsIGNvbnRpbnVlIHRvIGdlbmVyYXRlIGRpY3Rpb25hcnkgZW50cmllcyBmb3IgdGhlbS4pXG5jb25zdCBlbXB0eTEgPSBcIlwiO1xuY29uc3QgZW1wdHkyID0gXCJcIjtcbmNvbnN0IGVtcHR5MyA9IGBgO1xuY29uc3QgZW1wdHk0ID0gYCR7MH0kezF9JHsyfWA7XG5jb25zdCBlbXB0eTUgPSBmb29gYDtcbmNvbnN0IGVtcHR5NiA9IGZvb2AkezB9JHsxfSR7Mn1gO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxFQUFFO0FBQ2pCLE1BQU0sTUFBTSxHQUFHLEdBQUc7QUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBSTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxLQUFLLEdBQUcsSUFBSztBQUNuQixNQUFNLEtBQUssR0FBRyxJQUFNO0FBQ3BCLE1BQU0sS0FBSyxHQUFHLElBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsSUFBSztBQUN4QixNQUFNLFVBQVUsR0FBRyxJQUFNO0FBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUs7QUFDeEIsTUFBTSxVQUFVLEdBQUcsSUFBTTtBQUN6QjtBQUNBO0FBQ0EsTUFBTSxlQUFlLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLEVBQUU7QUFDakIsTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNLE1BQU0sSUFBSTtBQUNoQixNQUFNLE1BQU0sSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM1QixNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUM7QUFDbkIsTUFBTSxNQUFNLEdBQUcsR0FBRyxLQUFDLEVBQUUsQ0FBRSxFQUFFLENBQUUsRUFBRSxDQUFFIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for regular-expressions 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  \`"\`,
]);
import compact from 'lodash/compact';

export const PATTERN = /[:()"\\\\]/g;

const addQuotes = (string, hasQuotes) =>
  hasQuotes ? \`"\${string}"\` : string;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JztcblxuZXhwb3J0IGNvbnN0IFBBVFRFUk4gPSAvWzooKVwiXFxcXF0vZztcblxuY29uc3QgYWRkUXVvdGVzID0gKHN0cmluZywgaGFzUXVvdGVzKSA9PlxuICBoYXNRdW90ZXMgPyBgXCIke3N0cmluZ31cImAgOiBzdHJpbmc7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sT0FBTyxNQUFNLGdCQUFnQjtBQUNwQztBQUNBLE9BQU8sTUFBTSxPQUFPLEdBQUc7QUFDdkI7QUFDQSxNQUFNLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTO0FBQ3BDLEVBQUUsU0FBUyxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0iLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the CJS version should transform code correctly > for string-literals 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "appendix",
  "gem\`'\\"\\u{6F}",
  "cat\\r\\n\\tdog",
  "observe",
  'quarrel',
  'fizz"\\'"',
  "karat",
  'bowling',
  "egg'\\"'",
  "macrame",
  "nanobot",
  "pacific",
  "hammer",
  "image",
  "jewel",
  "labor",
]);
const foo = () => {};

// Trivial string literals.
const trivial1 = "";
const trivial2 = '';
const trivial3 = D[0];
const trivial4 = D[7];

// Escape sequences.
const escape1 = D[2];
const escape2 = D[8];
const escape3 = D[5];
const escape4 = D[1];

// String literals used in expressions.
const expression1 = D[12].toLowerCase();
const expression2 = foo[D[13]];
const expression3 = foo(D[14]);
const expression4 = D[6][1];

// String literals used in function declarations.
const func1 = (_a = D[15]) => {};

// String literals used in object literals.
const object1 = { [D[9]]: 1 };
const object2 = { [D[10]]: 2 };
const object3 = { [D[3]](_a){} };

// String literals used in array literals.
const array1 = [D[11]];
const array2 = [...D[4]];

// Reuse of string literals we've already seen.
const reuse1 = D[0];
const reuse2 = D[6][1];
const reuse3 = { [D[3]](_a){} };
const reuse4 = [...D[4]];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBUcml2aWFsIHN0cmluZyBsaXRlcmFscy5cbmNvbnN0IHRyaXZpYWwxID0gXCJcIjtcbmNvbnN0IHRyaXZpYWwyID0gJyc7XG5jb25zdCB0cml2aWFsMyA9IFwiYXBwZW5kaXhcIjtcbmNvbnN0IHRyaXZpYWw0ID0gJ2Jvd2xpbmcnO1xuXG4vLyBFc2NhcGUgc2VxdWVuY2VzLlxuY29uc3QgZXNjYXBlMSA9IFwiY2F0XFxyXFxuXFx0ZG9nXCI7XG5jb25zdCBlc2NhcGUyID0gXCJlZ2cnXFxcIidcIjtcbmNvbnN0IGVzY2FwZTMgPSAnZml6elwiXFwnXCInO1xuY29uc3QgZXNjYXBlNCA9IFwiZ2VtYCdcXFwiXFx1ezZGfVwiO1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBleHByZXNzaW9ucy5cbmNvbnN0IGV4cHJlc3Npb24xID0gXCJoYW1tZXJcIi50b0xvd2VyQ2FzZSgpO1xuY29uc3QgZXhwcmVzc2lvbjIgPSBmb29bXCJpbWFnZVwiXTtcbmNvbnN0IGV4cHJlc3Npb24zID0gZm9vKFwiamV3ZWxcIik7XG5jb25zdCBleHByZXNzaW9uNCA9IFwia2FyYXRcIlsxXTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuY29uc3QgZnVuYzEgPSAoX2EgPSBcImxhYm9yXCIpID0+IHt9O1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBvYmplY3QgbGl0ZXJhbHMuXG5jb25zdCBvYmplY3QxID0geyBcIm1hY3JhbWVcIjogMSB9O1xuY29uc3Qgb2JqZWN0MiA9IHsgW1wibmFub2JvdFwiXTogMiB9O1xuY29uc3Qgb2JqZWN0MyA9IHsgXCJvYnNlcnZlXCIoX2Epe30gfTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gYXJyYXkgbGl0ZXJhbHMuXG5jb25zdCBhcnJheTEgPSBbXCJwYWNpZmljXCJdO1xuY29uc3QgYXJyYXkyID0gWy4uLidxdWFycmVsJ107XG5cbi8vIFJldXNlIG9mIHN0cmluZyBsaXRlcmFscyB3ZSd2ZSBhbHJlYWR5IHNlZW4uXG5jb25zdCByZXVzZTEgPSBcImFwcGVuZGl4XCI7XG5jb25zdCByZXVzZTIgPSBcImthcmF0XCJbMV07XG5jb25zdCByZXVzZTMgPSB7IFwib2JzZXJ2ZVwiKF9hKXt9IH07XG5jb25zdCByZXVzZTQgPSBbLi4uJ3F1YXJyZWwnXTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0EsTUFBTSxRQUFRLEdBQUcsRUFBRTtBQUNuQixNQUFNLFFBQVEsR0FBRyxFQUFFO0FBQ25CLE1BQU0sUUFBUSxHQUFHLElBQVU7QUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBUztBQUMxQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsSUFBYztBQUM5QixNQUFNLE9BQU8sR0FBRyxJQUFTO0FBQ3pCLE1BQU0sT0FBTyxHQUFHLElBQVU7QUFDMUIsTUFBTSxPQUFPLEdBQUcsSUFBZTtBQUMvQjtBQUNBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsS0FBUSxDQUFDLFdBQVc7QUFDeEMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsSUFBTyxDQUFDO0FBQzVCO0FBQ0E7QUFDQSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxLQUFPLEtBQUs7QUFDaEM7QUFDQTtBQUNBLE1BQU0sT0FBTyxHQUFHLEVBQUUsTUFBUyxFQUFFO0FBQzdCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFTLEdBQUc7QUFDL0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFTLENBQUMsRUFBRSxDQUFDO0FBQy9CO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQVM7QUFDekIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQVM7QUFDNUI7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLElBQVU7QUFDekIsTUFBTSxNQUFNLEdBQUcsSUFBTyxDQUFDO0FBQ3ZCLE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBUyxDQUFDLEVBQUUsQ0FBQztBQUM5QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBUyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for switch-statements 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'francis',
  'result',
  'emmett',
  "arnold",
  'betty',
  $\`danielle\`,
  \`charles\`,
]);
const tag = () => D[1];

export const foo = (value) => {
  const emmett = D[2];

  switch (value) {
    case D[3]:
      return 1;

    case D[4]:
      return 2;

    case \`charles\`:
      return 3;

    case tag(D[5]):
      return 4;

    case emmett:
      return 5;

    case D[0]:
      return 6;

    default:
      return 7;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgZm9vID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGVtbWV0dCA9ICdlbW1ldHQnO1xuXG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIFwiYXJub2xkXCI6XG4gICAgICByZXR1cm4gMTtcblxuICAgIGNhc2UgJ2JldHR5JzpcbiAgICAgIHJldHVybiAyO1xuXG4gICAgY2FzZSBgY2hhcmxlc2A6XG4gICAgICByZXR1cm4gMztcblxuICAgIGNhc2UgdGFnYGRhbmllbGxlYDpcbiAgICAgIHJldHVybiA0O1xuXG4gICAgY2FzZSBlbW1ldHQ6XG4gICAgICByZXR1cm4gNTtcblxuICAgIGNhc2UnZnJhbmNpcyc6XG4gICAgICByZXR1cm4gNjtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gNztcbiAgfVxufTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTSxJQUFRO0FBQzFCO0FBQ0EsT0FBTyxNQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssS0FBSztBQUM5QixFQUFFLE1BQU0sTUFBTSxHQUFHLElBQVE7QUFDekI7QUFDQSxFQUFFLFFBQVEsS0FBSztBQUNmLElBQUksS0FBSyxJQUFRO0FBQ2pCLE1BQU0sT0FBTztBQUNiO0FBQ0EsSUFBSSxLQUFLLElBQU87QUFDaEIsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLE1BQU0sT0FBTztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxHQUFHLEtBQUMsQUFBUTtBQUNyQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxNQUFNO0FBQ2YsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLElBQUksS0FBUztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUk7QUFDSixNQUFNLE9BQU87QUFDYjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for tagged-templates-only 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  $\`bar\${0}\`,
]);
function foo() { }
console.log(foo(D[0], 1000))
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGZvbygpIHsgfVxuY29uc29sZS5sb2coZm9vYGJhciR7MTAwMH1gKVxuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxTQUFTLEdBQUcsR0FBRztBQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFDLEFBQUcsRUFBRSxJQUFLIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for templates 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  \`\\\`'"\\u{6F}\`,
  \`abc\\r\\n\\t123\`,
  \`gallingly\`,
  \`hairbrush\`,
  \`idealists\`,
  \`absolute\`,
  \`backdrops\`,
  \`cacophony\`,
  \`dachshund\`,
  \`eagerness\`,
  \`fabricate\`,
  \`newlyweds\`,
  \`orthodoxy\`,
  \`paralyzed\`,
  \`quadrants\`,
  \`reflexive\`,
  \`waferlike\`,
  \`yardstick\`,
  $\`superior\${0}vertical\`,
  $\`triangle\${0}umbrella\`,
  $\`\`,
  $\`judgment\`,
  $\`keyboard\${0}laughter\${0}material\`,
  $\`abstract\`,
  $\`doubtful\${0}endeavor\`,
  $\`bacteria\${0}contrast\`,
]);
const foo = () => {};
const bar = 1;

// Trivial template expressions.
const trivial1 = \`\`;
const trivial2 = \`\${D[5]}\`;
const trivial3 = \`\${D[6]}\${bar}\`;
const trivial4 = \`\${bar}\${D[7]}\`;
const trivial5 = \`\${D[8]}\${bar}\`;
const trivial6 = \`\${D[9]}\${bar}\${D[10]}\`;
const trivial7 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;

// Escape sequences.
const escape1 = \`\${D[1]}\`;
const escape2 = \`\${D[0]}\`;

// Tagged template expressions.
const tagged1 = foo(D[20]);
const tagged2 = foo(D[21]);
const tagged3 = foo(D[22], bar, bar);

// Nested template expressions.
const nested1 = \`\${D[11]}\${\`\${D[12]}\${\`\${D[13]}\`}\${D[14]}\`}\${D[15]}\`;
const nested2 = foo(D[18], foo(D[19], bar));
const nested3 = \`\${D[16]}\${bar}\${D[17]}\${foo(D[23])}\`;

// Using the results of template expressions as a tag.
const resulttag1 = foo(D[25], bar)(D[24], bar);

// Reuse of quasis and template expressions that we've already seen.
const reuse1 = \`\${D[5]}\`;
const reuse2 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;
const reuse3 = \`\${D[0]}\`;
const reuse4 = foo(D[18], foo(D[19], bar));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuY29uc3QgYmFyID0gMTtcblxuLy8gVHJpdmlhbCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRyaXZpYWwxID0gYGA7XG5jb25zdCB0cml2aWFsMiA9IGBhYnNvbHV0ZWA7XG5jb25zdCB0cml2aWFsMyA9IGBiYWNrZHJvcHMke2Jhcn1gO1xuY29uc3QgdHJpdmlhbDQgPSBgJHtiYXJ9Y2Fjb3Bob255YDtcbmNvbnN0IHRyaXZpYWw1ID0gYGRhY2hzaHVuZCR7YmFyfWA7XG5jb25zdCB0cml2aWFsNiA9IGBlYWdlcm5lc3Mke2Jhcn1mYWJyaWNhdGVgO1xuY29uc3QgdHJpdmlhbDcgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcblxuLy8gRXNjYXBlIHNlcXVlbmNlcy5cbmNvbnN0IGVzY2FwZTEgPSBgYWJjXFxyXFxuXFx0MTIzYDtcbmNvbnN0IGVzY2FwZTIgPSBgXFxgJ1wiXFx1ezZGfWA7XG5cbi8vIFRhZ2dlZCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRhZ2dlZDEgPSBmb29gYDtcbmNvbnN0IHRhZ2dlZDIgPSBmb29ganVkZ21lbnRgO1xuY29uc3QgdGFnZ2VkMyA9IGZvb2BrZXlib2FyZCR7YmFyfWxhdWdodGVyJHtiYXJ9bWF0ZXJpYWxgO1xuXG4vLyBOZXN0ZWQgdGVtcGxhdGUgZXhwcmVzc2lvbnMuXG5jb25zdCBuZXN0ZWQxID0gYG5ld2x5d2VkcyR7YG9ydGhvZG94eSR7YHBhcmFseXplZGB9cXVhZHJhbnRzYH1yZWZsZXhpdmVgO1xuY29uc3QgbmVzdGVkMiA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbmNvbnN0IG5lc3RlZDMgPSBgd2FmZXJsaWtlJHtiYXJ9eWFyZHN0aWNrJHtmb29gYWJzdHJhY3RgfWA7XG5cbi8vIFVzaW5nIHRoZSByZXN1bHRzIG9mIHRlbXBsYXRlIGV4cHJlc3Npb25zIGFzIGEgdGFnLlxuY29uc3QgcmVzdWx0dGFnMSA9IGZvb2BiYWN0ZXJpYSR7YmFyfWNvbnRyYXN0YGBkb3VidGZ1bCR7YmFyfWVuZGVhdm9yYDtcblxuLy8gUmV1c2Ugb2YgcXVhc2lzIGFuZCB0ZW1wbGF0ZSBleHByZXNzaW9ucyB0aGF0IHdlJ3ZlIGFscmVhZHkgc2Vlbi5cbmNvbnN0IHJldXNlMSA9IGBhYnNvbHV0ZWA7XG5jb25zdCByZXVzZTIgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcbmNvbnN0IHJldXNlMyA9IGBcXGAnXCJcXHV7NkZ9YDtcbmNvbnN0IHJldXNlNCA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU07QUFDbEIsTUFBTSxHQUFHLEdBQUc7QUFDWjtBQUNBO0FBQ0EsTUFBTSxRQUFRLElBQUk7QUFDbEIsTUFBTSxRQUFRLElBQUksT0FBUTtBQUMxQixNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQ2pDLE1BQU0sUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQVM7QUFDakMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQztBQUNqQyxNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVM7QUFDMUMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDLE9BQVMsRUFBRSxHQUFHLENBQUM7QUFDL0Q7QUFDQTtBQUNBLE1BQU0sT0FBTyxJQUFJLE9BQVk7QUFDN0IsTUFBTSxPQUFPLElBQUksT0FBVTtBQUMzQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDO0FBQ3BCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRO0FBQzVCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRLEVBQUUsR0FBRyxBQUFDLEFBQVEsRUFBRSxHQUFHLEFBQUMsQUFBUTtBQUN4RDtBQUNBO0FBQ0EsTUFBTSxPQUFPLElBQUksUUFBUyxHQUFHLFFBQVMsR0FBRyxRQUFTLEVBQUUsUUFBUyxFQUFFLFFBQVM7QUFDeEUsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUTtBQUNsRSxNQUFNLE9BQU8sSUFBSSxRQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVMsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFO0FBQ3pEO0FBQ0E7QUFDQSxNQUFNLFVBQVUsR0FBRyxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLE9BQUUsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRO0FBQ3JFO0FBQ0E7QUFDQSxNQUFNLE1BQU0sSUFBSSxPQUFRO0FBQ3hCLE1BQU0sTUFBTSxJQUFJLE9BQVMsRUFBRSxHQUFHLENBQUMsT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQzdELE1BQU0sTUFBTSxJQUFJLE9BQVU7QUFDMUIsTUFBTSxNQUFNLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for ternary-expressions 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'katherine',
  "charles",
  'ophelia',
  'richard',
  'result',
  "arnold",
  'george',
  'marcia',
  'nathan',
  "betty",
  'harry',
  'irina',
  'peter',
  'quinn',
  'jack',
  $\`danielle\`,
  $\`emmett\`,
  $\`francine\`,
]);
const tag = () => D[4];

export const arnold = D[5] ? D[9] : D[1];
export const danielle = tag(D[15]) ? tag(D[16]) : tag(D[17]);
export const george = D[6] ? (D[10], D[11]) : (D[14], D[0]);
export const leopold = { [D[7]]: D[8] } ? { [D[2]]: D[12] } : { 'quinn': D[3] };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgYXJub2xkID0gXCJhcm5vbGRcIiA/IFwiYmV0dHlcIiA6IFwiY2hhcmxlc1wiO1xuZXhwb3J0IGNvbnN0IGRhbmllbGxlID0gdGFnYGRhbmllbGxlYCA/IHRhZ2BlbW1ldHRgIDogdGFnYGZyYW5jaW5lYDtcbmV4cG9ydCBjb25zdCBnZW9yZ2UgPSAnZ2VvcmdlJyA/ICgnaGFycnknLCAnaXJpbmEnKSA6ICgnamFjaycsICdrYXRoZXJpbmUnKTtcbmV4cG9ydCBjb25zdCBsZW9wb2xkID0geyAnbWFyY2lhJzogJ25hdGhhbicgfSA/IHsgJ29waGVsaWEnOiAncGV0ZXInIH0gOiB7ICdxdWlubic6ICdyaWNoYXJkJyB9O1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBUTtBQUMxQjtBQUNBLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLElBQU8sR0FBRyxJQUFTO0FBQ3BELE9BQU8sTUFBTSxRQUFRLEdBQUcsR0FBRyxNQUFDLEFBQVEsSUFBSSxHQUFHLE1BQUMsQUFBTSxJQUFJLEdBQUcsTUFBQyxBQUFRO0FBQ2xFLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLENBQUMsS0FBTyxFQUFFLEtBQU8sSUFBSSxDQUFDLEtBQU0sRUFBRSxJQUFXO0FBQzFFLE9BQU8sTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFRLEVBQUUsSUFBUSxLQUFLLEVBQUUsTUFBUyxFQUFFLEtBQU8sS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFTIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for trivial 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "test",
]);
console.log(/* (attached comment) */ D[0]);

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG5cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxDQUFDLEdBQUcsMEJBQTBCLElBQU07QUFDM0MiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the CJS version should transform code correctly > for typescript-enums 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'Number Three',
  'Number One',
  'Letter A',
  "Letter B",
  "Number Two",
  'Number Two',
  'Letter C',
  'Alpha',
  "Beta",
  \`Letter C\`,
  \`Gamma\`,
]);
enum GreekLetters {
  Alpha = 'Alpha',
  Beta = "Beta",
  Gamma = \`Gamma\`,
}

enum RomanLetters {
  'Letter A' = 'Letter A',
  "Letter B" = "Letter B",
  'Letter C' = \`Letter C\`,
}

const enum ArabicNumbers {
  'Number One' = 'Number One',
  "Number Two" = 'Number Two',
  'Number Three' = 'Number Three',
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImVudW0gR3JlZWtMZXR0ZXJzIHtcbiAgQWxwaGEgPSAnQWxwaGEnLFxuICBCZXRhID0gXCJCZXRhXCIsXG4gIEdhbW1hID0gYEdhbW1hYCxcbn1cblxuZW51bSBSb21hbkxldHRlcnMge1xuICAnTGV0dGVyIEEnID0gJ0xldHRlciBBJyxcbiAgXCJMZXR0ZXIgQlwiID0gXCJMZXR0ZXIgQlwiLFxuICAnTGV0dGVyIEMnID0gYExldHRlciBDYCxcbn1cblxuY29uc3QgZW51bSBBcmFiaWNOdW1iZXJzIHtcbiAgJ051bWJlciBPbmUnID0gJ051bWJlciBPbmUnLFxuICBcIk51bWJlciBUd29cIiA9ICdOdW1iZXIgVHdvJyxcbiAgJ051bWJlciBUaHJlZScgPSAnTnVtYmVyIFRocmVlJyxcbn1cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLEtBQUssWUFBWTtBQUNqQixFQUFFLEtBQUssR0FBRyxPQUFPO0FBQ2pCLEVBQUUsSUFBSSxHQUFHLE1BQU07QUFDZixFQUFFLEtBQUssSUFBSSxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLLFlBQVk7QUFDakIsRUFBRSxVQUFVLEdBQUcsVUFBVTtBQUN6QixFQUFFLFVBQVUsR0FBRyxVQUFVO0FBQ3pCLEVBQUUsVUFBVSxJQUFJLFFBQVE7QUFDeEI7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixFQUFFLFlBQVksR0FBRyxZQUFZO0FBQzdCLEVBQUUsWUFBWSxHQUFHLFlBQVk7QUFDN0IsRUFBRSxjQUFjLEdBQUcsY0FBYztBQUNqQyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for typescript-inheritance 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'SpecificNode',
  'pattern',
]);
import { Variant } from './variant';

export class SpecificNode
    extends Variant(D[0])<[string, {}]>
{
    pattern(): string {
        return { escaped: D[1] };
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhcmlhbnQgfSBmcm9tICcuL3ZhcmlhbnQnO1xuXG5leHBvcnQgY2xhc3MgU3BlY2lmaWNOb2RlXG4gICAgZXh0ZW5kcyBWYXJpYW50KCdTcGVjaWZpY05vZGUnKTxbc3RyaW5nLCB7fV0+XG57XG4gICAgcGF0dGVybigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4geyBlc2NhcGVkOiAncGF0dGVybicgfTtcbiAgICB9XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTLE9BQU8sUUFBUSxXQUFXO0FBQ25DO0FBQ0EsT0FBTyxNQUFNLFlBQVk7QUFDekIsWUFBWSxPQUFPLENBQUMsSUFBYyxDQUFDO0FBQ25DO0FBQ0EsSUFBSSxPQUFPLEVBQUUsU0FBUztBQUN0QixRQUFRLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBUztBQUNuQztBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for typescript-namespaces 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'betelgeuse',
  'cassiopeia',
  'andromeda',
]);
declare module SomeModule {
  const variable = D[2];
}

declare module "SomeModule" {
  const variable = D[0];
}

declare namespace SomeNamespace {
  const variable = D[1];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbW9kdWxlIFNvbWVNb2R1bGUge1xuICBjb25zdCB2YXJpYWJsZSA9ICdhbmRyb21lZGEnO1xufVxuXG5kZWNsYXJlIG1vZHVsZSBcIlNvbWVNb2R1bGVcIiB7XG4gIGNvbnN0IHZhcmlhYmxlID0gJ2JldGVsZ2V1c2UnO1xufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBTb21lTmFtZXNwYWNlIHtcbiAgY29uc3QgdmFyaWFibGUgPSAnY2Fzc2lvcGVpYSc7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMEJBQTBCO0FBQzFCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBVztBQUM5QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQiIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the CJS version should transform code correctly > for unwanted 1`] = `
"// No strings in this file should appear in the dictionary.
"use strict";
"use server";
"use client";
import "unwanted1.js";
import foo from "unwanted2.js";
import { foo } from "unwanted3.js";
import * as foo from "unwanted4.js";
import { foo as bar1 } from "unwanted5.js";
import { default as bar2 } from "unwanted6.js";
import { "unwanted7" as bar3 } from "unwanted8.js";
export { bar1 };
export { bar1 as bar2 };
export { bar1 as "unwanted9" };
export * from "unwanted10.js";
export * as foo from "unwanted11.js";
export { bar } from "unwanted12.js";
export { default } from "unwanted13.js";
export { default as bar } from "unwanted14.js";
export { foo as "unwanted15" } from "unwanted16.js";
const bar4 = require("unwanted17.js");
const bar5 = import("unwanted18.js");
function doSomething() {
  "use strict";
  return 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHNlcnZlclwiO1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgXCJ1bndhbnRlZDEuanNcIjtcbmltcG9ydCBmb28gZnJvbSBcInVud2FudGVkMi5qc1wiO1xuaW1wb3J0IHsgZm9vIH0gZnJvbSBcInVud2FudGVkMy5qc1wiO1xuaW1wb3J0ICogYXMgZm9vIGZyb20gXCJ1bndhbnRlZDQuanNcIjtcbmltcG9ydCB7IGZvbyBhcyBiYXIxIH0gZnJvbSBcInVud2FudGVkNS5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBiYXIyIH0gZnJvbSBcInVud2FudGVkNi5qc1wiO1xuaW1wb3J0IHsgXCJ1bndhbnRlZDdcIiBhcyBiYXIzIH0gZnJvbSBcInVud2FudGVkOC5qc1wiO1xuZXhwb3J0IHsgYmFyMSB9O1xuZXhwb3J0IHsgYmFyMSBhcyBiYXIyIH07XG5leHBvcnQgeyBiYXIxIGFzIFwidW53YW50ZWQ5XCIgfTtcbmV4cG9ydCAqIGZyb20gXCJ1bndhbnRlZDEwLmpzXCI7XG5leHBvcnQgKiBhcyBmb28gZnJvbSBcInVud2FudGVkMTEuanNcIjtcbmV4cG9ydCB7IGJhciB9IGZyb20gXCJ1bndhbnRlZDEyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcInVud2FudGVkMTMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmFyIH0gZnJvbSBcInVud2FudGVkMTQuanNcIjtcbmV4cG9ydCB7IGZvbyBhcyBcInVud2FudGVkMTVcIiB9IGZyb20gXCJ1bndhbnRlZDE2LmpzXCI7XG5jb25zdCBiYXI0ID0gcmVxdWlyZShcInVud2FudGVkMTcuanNcIik7XG5jb25zdCBiYXI1ID0gaW1wb3J0KFwidW53YW50ZWQxOC5qc1wiKTtcbmZ1bmN0aW9uIGRvU29tZXRoaW5nKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgcmV0dXJuIDA7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixPQUFPLGNBQWM7QUFDckIsT0FBTyxHQUFHLE1BQU0sY0FBYztBQUM5QixTQUFTLEdBQUcsUUFBUSxjQUFjO0FBQ2xDLE9BQU8sS0FBSyxHQUFHLE1BQU0sY0FBYztBQUNuQyxTQUFTLEdBQUcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUMxQyxTQUFTLE9BQU8sSUFBSSxJQUFJLFFBQVEsY0FBYztBQUM5QyxTQUFTLFdBQVcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUNsRCxTQUFTLElBQUk7QUFDYixTQUFTLElBQUksSUFBSSxJQUFJO0FBQ3JCLFNBQVMsSUFBSSxJQUFJLFdBQVc7QUFDNUIsY0FBYyxlQUFlO0FBQzdCLE9BQU8sS0FBSyxHQUFHLE1BQU0sZUFBZTtBQUNwQyxTQUFTLEdBQUcsUUFBUSxlQUFlO0FBQ25DLFNBQVMsT0FBTyxRQUFRLGVBQWU7QUFDdkMsU0FBUyxPQUFPLElBQUksR0FBRyxRQUFRLGVBQWU7QUFDOUMsU0FBUyxHQUFHLElBQUksWUFBWSxRQUFRLGVBQWU7QUFDbkQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLGVBQWU7QUFDcEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxlQUFlO0FBQ25DLFNBQVMsV0FBVyxHQUFHO0FBQ3ZCLEVBQUUsWUFBWTtBQUNkLEVBQUUsT0FBTztBQUNUIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the CJS version should transform code correctly > for unwanted-typescript 1`] = `
"// No strings in this file should appear in the dictionary.
let foo: 'unwanted_var_type_1' | "unwanted_var_type_2";

function bar(
  x: "unwanted_arg_type_1",
  y: 'unwanted_arg_type_2'
): 'unwanted_return_value_type_3' | undefined {
  return undefined;
}

type ObjectType = {
  'unwanted_object_key_type_1': 'unwanted_object_value_type_1'
};

interface InterfaceType {
  'unwanted_interface_key_type_1': 'unwanted_interface_value_type_1'
};

declare let baz: 'unwanted_declared_var_type_1';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5sZXQgZm9vOiAndW53YW50ZWRfdmFyX3R5cGVfMScgfCBcInVud2FudGVkX3Zhcl90eXBlXzJcIjtcblxuZnVuY3Rpb24gYmFyKFxuICB4OiBcInVud2FudGVkX2FyZ190eXBlXzFcIixcbiAgeTogJ3Vud2FudGVkX2FyZ190eXBlXzInXG4pOiAndW53YW50ZWRfcmV0dXJuX3ZhbHVlX3R5cGVfMycgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG50eXBlIE9iamVjdFR5cGUgPSB7XG4gICd1bndhbnRlZF9vYmplY3Rfa2V5X3R5cGVfMSc6ICd1bndhbnRlZF9vYmplY3RfdmFsdWVfdHlwZV8xJ1xufTtcblxuaW50ZXJmYWNlIEludGVyZmFjZVR5cGUge1xuICAndW53YW50ZWRfaW50ZXJmYWNlX2tleV90eXBlXzEnOiAndW53YW50ZWRfaW50ZXJmYWNlX3ZhbHVlX3R5cGVfMSdcbn07XG5cbmRlY2xhcmUgbGV0IGJhejogJ3Vud2FudGVkX2RlY2xhcmVkX3Zhcl90eXBlXzEnO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxHQUFHO0FBQ1A7QUFDQSxTQUFTLEdBQUc7QUFDWixFQUFFLENBQUM7QUFDSCxFQUFFLENBQUM7QUFDSCxDQUFDLDZDQUE2QztBQUM5QyxFQUFFLE9BQU8sU0FBUztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxVQUFVO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksR0FBRyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for common-cases 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "some string",
  \`something\`,
  "abc",
  $\`123\${0}another thing\`,
]);
import { foo } from "my-module.js";

// const constant = "some string";
const constant = D[0];

foo({
  // bar: "abc",
  bar: D[2],
  // baz: \`something\${constant}456\`,
  baz: \`\${D[1]}\${constant}456\`,
  // bat: foo\`123\${constant}another thing\`,
  bat: foo(D[3], constant),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvbyB9IGZyb20gXCJteS1tb2R1bGUuanNcIjtcblxuLy8gY29uc3QgY29uc3RhbnQgPSBcInNvbWUgc3RyaW5nXCI7XG5jb25zdCBjb25zdGFudCA9IFwic29tZSBzdHJpbmdcIjtcblxuZm9vKHtcbiAgLy8gYmFyOiBcImFiY1wiLFxuICBiYXI6IFwiYWJjXCIsXG4gIC8vIGJhejogYHNvbWV0aGluZyR7Y29uc3RhbnR9NDU2YCxcbiAgYmF6OiBgc29tZXRoaW5nJHtjb25zdGFudH00NTZgLFxuICAvLyBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxuICBiYXQ6IGZvb2AxMjMke2NvbnN0YW50fWFub3RoZXIgdGhpbmdgLFxufSk7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVMsR0FBRyxRQUFRLGNBQWM7QUFDbEM7QUFDQTtBQUNBLE1BQU0sUUFBUSxHQUFHLElBQWE7QUFDOUI7QUFDQSxHQUFHLENBQUM7QUFDSjtBQUNBLEVBQUUsR0FBRyxFQUFFLElBQUs7QUFDWjtBQUNBLEVBQUUsR0FBRyxHQUFHLE9BQVMsRUFBRSxRQUFRLENBQUMsR0FBRztBQUMvQjtBQUNBLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBQyxBQUFHLEVBQUUsUUFBUSxBQUFDLEFBQWE7QUFDdEMiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the ESM version should transform code correctly > for commonjs-require 1`] = `
"const { $ } = require(' datadog:privacy-helpers.cjs');
const D = $([
  'test',
]);
const foo = require('foo-module');
foo(D[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9IHJlcXVpcmUoJ2Zvby1tb2R1bGUnKTtcbmZvbygndGVzdCcpO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsWUFBWTtBQUNoQyxHQUFHLENBQUMsSUFBTSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for conflict 1`] = `
"import { $ as B } from ' datadog:privacy-helpers.mjs';
const A = B([
  "test",
]);
// Create conflicting bindings for the default names of the helpers.
const $ = 123;
const D = 456;
console.log(/* (attached comment) */ A[0]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBjb25mbGljdGluZyBiaW5kaW5ncyBmb3IgdGhlIGRlZmF1bHQgbmFtZXMgb2YgdGhlIGhlbHBlcnMuXG5jb25zdCAkID0gMTIzO1xuY29uc3QgRCA9IDQ1NjtcbmNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsTUFBTSxDQUFDLEdBQUc7QUFDVixNQUFNLENBQUMsR0FBRztBQUNWLE9BQU8sQ0FBQyxHQUFHLDBCQUEwQixJQUFNIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for jsx 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "Escape special characters with the \\"\\\\\\" character.",
  "Text content. With more than one line. And another.",
  " entity reference",
  'quotes"inside',
  'with"\\'quotes',
  '--top-offset',
  "some content",
  "something'",
  'error-info',
  'value',
  \`--is-stuck\`,
  \`px\`,
]);
import {
  AnotherComponent,
  ErrorHandler,
  Flex,
  SomeComponent,
  SomethingElse,
  BLOCK,
  classNames,
  isStuck,
  reportError,
  topOffset,
} from 'framework';

export function MyComponent(props) {
  return (
    <SomeComponent attr={D[7]} with={D[3]}>
      <AnotherComponent attr={D[4]} />
      <SomethingElse style={{
        key: D[9],
        anotherKey: props.key2,
      }}
      >{D[1]}</SomethingElse>
      <ErrorHandler
        onError={(info) => {
          reportError({ [D[8]]: info });
        }}
      />
      <Flex
        style={
          {
            [D[5]]: \`\${topOffset}px\`,
          }
        }
        className={classNames(BLOCK, {
          [\`\${BLOCK}\${D[10]}\`]: isStuck,
        })}
      >{D[0]}</Flex>
      <svg
        fill={props.fill}
        content={(() => { return D[6]; })()}
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 192 192"
        data={D[2]}
      >
        <g>
          <rect x='84' y='156' width='20' height='20' />
        </g>
        <path
          d="M102,140H86v-20c0-13.5,10.1-24,22.9-24c13.2,0,23-3,28.9-9c5.9-5.9,6.1-12.9,6.1-13l0-0.4l0-0.4c0-0.4,0.8-11.6-7.6-20.8
C128.8,44.2,115.9,40,98,40c-20.9,0-35.6,5.7-43.7,16.9c-6,8.3-6.3,17-6.3,17.1L32,74c0-1.3,0.2-13.3,8.7-25.5
C54.6,28.2,79.5,24,98,24c22.7,0,39.7,6,50.5,17.9c12.2,13.4,11.7,29.6,11.5,32.5c-0.1,2.5-0.9,14-10.8,23.9
c-9.1,9.1-22.6,13.7-40.3,13.7c-4.6,0-6.9,4-6.9,8V140z"
        />
      </svg>
    </SomeComponent>
  );
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzeCIsIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBbm90aGVyQ29tcG9uZW50LFxuICBFcnJvckhhbmRsZXIsXG4gIEZsZXgsXG4gIFNvbWVDb21wb25lbnQsXG4gIFNvbWV0aGluZ0Vsc2UsXG4gIEJMT0NLLFxuICBjbGFzc05hbWVzLFxuICBpc1N0dWNrLFxuICByZXBvcnRFcnJvcixcbiAgdG9wT2Zmc2V0LFxufSBmcm9tICdmcmFtZXdvcmsnO1xuXG5leHBvcnQgZnVuY3Rpb24gTXlDb21wb25lbnQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U29tZUNvbXBvbmVudCBhdHRyPVwic29tZXRoaW5nJ1wiIHdpdGg9J3F1b3Rlc1wiaW5zaWRlJz5cbiAgICAgIDxBbm90aGVyQ29tcG9uZW50IGF0dHI9eyd3aXRoXCJcXCdxdW90ZXMnfSAvPlxuICAgICAgPFNvbWV0aGluZ0Vsc2Ugc3R5bGU9e3tcbiAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICBhbm90aGVyS2V5OiBwcm9wcy5rZXkyLFxuICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgVGV4dCBjb250ZW50LlxuXG4gICAgICAgIFdpdGggbW9yZSB0aGFuIG9uZSBsaW5lLlxuXG4gICAgICAgIEFuZCBhbm90aGVyLlxuICAgICAgPC9Tb21ldGhpbmdFbHNlPlxuICAgICAgPEVycm9ySGFuZGxlclxuICAgICAgICBvbkVycm9yPXsoaW5mbykgPT4ge1xuICAgICAgICAgIHJlcG9ydEVycm9yKHsgJ2Vycm9yLWluZm8nOiBpbmZvIH0pO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxGbGV4XG4gICAgICAgIHN0eWxlPXtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAnLS10b3Atb2Zmc2V0JzogYCR7dG9wT2Zmc2V0fXB4YCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKEJMT0NLLCB7XG4gICAgICAgICAgW2Ake0JMT0NLfS0taXMtc3R1Y2tgXTogaXNTdHVjayxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgd2l0aCB0aGUgXCJcXFwiIGNoYXJhY3Rlci5cbiAgICAgIDwvRmxleD5cbiAgICAgIDxzdmdcbiAgICAgICAgZmlsbD17cHJvcHMuZmlsbH1cbiAgICAgICAgY29udGVudD17KCgpID0+IHsgcmV0dXJuIFwic29tZSBjb250ZW50XCI7IH0pKCl9XG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE5MiAxOTJcIlxuICAgICAgICBkYXRhPVwiJm5ic3A7ZW50aXR5IHJlZmVyZW5jZVwiXG4gICAgICA+XG4gICAgICAgIDxnPlxuICAgICAgICAgIDxyZWN0IHg9Jzg0JyB5PScxNTYnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgLz5cbiAgICAgICAgPC9nPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNMTAyLDE0MEg4NnYtMjBjMC0xMy41LDEwLjEtMjQsMjIuOS0yNGMxMy4yLDAsMjMtMywyOC45LTljNS45LTUuOSw2LjEtMTIuOSw2LjEtMTNsMC0wLjRsMC0wLjRjMC0wLjQsMC44LTExLjYtNy42LTIwLjhcbkMxMjguOCw0NC4yLDExNS45LDQwLDk4LDQwYy0yMC45LDAtMzUuNiw1LjctNDMuNywxNi45Yy02LDguMy02LjMsMTctNi4zLDE3LjFMMzIsNzRjMC0xLjMsMC4yLTEzLjMsOC43LTI1LjVcbkM1NC42LDI4LjIsNzkuNSwyNCw5OCwyNGMyMi43LDAsMzkuNyw2LDUwLjUsMTcuOWMxMi4yLDEzLjQsMTEuNywyOS42LDExLjUsMzIuNWMtMC4xLDIuNS0wLjksMTQtMTAuOCwyMy45XG5jLTkuMSw5LjEtMjIuNiwxMy43LTQwLjMsMTMuN2MtNC42LDAtNi45LDQtNi45LDhWMTQwelwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L1NvbWVDb21wb25lbnQ+XG4gICk7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxFQUFFLGdCQUFnQjtBQUNsQixFQUFFLFlBQVk7QUFDZCxFQUFFLElBQUk7QUFDTixFQUFFLGFBQWE7QUFDZixFQUFFLGFBQWE7QUFDZixFQUFFLEtBQUs7QUFDUCxFQUFFLFVBQVU7QUFDWixFQUFFLE9BQU87QUFDVCxFQUFFLFdBQVc7QUFDYixFQUFFLFNBQVM7QUFDWCxPQUFPLFdBQVc7QUFDbEI7QUFDQSxPQUFPLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUNuQyxFQUFFLE9BQU87QUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFZLENBQUMsSUFBSSxDQUFDLE1BQWUsQ0FBQztBQUMxRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBZSxJQUFJO0FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDNUIsUUFBUSxHQUFHLEVBQUUsSUFBTztBQUNwQixRQUFRLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSTtBQUM5QjtBQUNBLE9BQU8sQUFDUCxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsTUFBTSxFQUFFLGFBQWEsQ0FBQztBQUN0QixNQUFNLENBQUMsWUFBWTtBQUNuQixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLO0FBQzNCLFVBQVUsV0FBVyxDQUFDLEVBQUUsTUFBWSxFQUFFLElBQUk7QUFDMUM7QUFDQSxRQUFRO0FBQ1IsTUFBTSxDQUFDLElBQUk7QUFDWCxRQUFRLEtBQUssQ0FBQztBQUNkLFVBQVU7QUFDVixZQUFZLE1BQWMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzNDO0FBQ0E7QUFDQSxRQUFRLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDckMsVUFBVSxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVUsSUFBSSxPQUFPO0FBQ3pDO0FBQ0EsT0FBTyxBQUNQLEFBQ0EsTUFBTSxFQUFFLElBQUksQ0FBQztBQUNiLE1BQU0sQ0FBQyxHQUFHO0FBQ1YsUUFBUSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSTtBQUN4QixRQUFRLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sSUFBYztBQUMvQyxRQUFRLEtBQUssQ0FBQyw0QkFBNEI7QUFDMUMsUUFBUSxPQUFPLENBQUMsYUFBYTtBQUM3QixRQUFRLElBQUksQ0FBQyxNQUF3QjtBQUNyQyxPQUFPO0FBQ1AsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNYLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRztBQUN4RCxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ1osUUFBUSxDQUFDLElBQUk7QUFDYixVQUFVLENBQUMsQ0FBQztBQUNaO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsVUFBVTtBQUNWLE1BQU0sRUFBRSxHQUFHLENBQUM7QUFDWixJQUFJLEVBQUUsYUFBYTtBQUNuQjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for reference-size 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "abcd",
  \`abcdefghi\`,
  "abcde",
  "abc",
  \`abcdefgh\`,
  "xyz0",
  "xyz",
  $\`\`,
  $\`\${0}\${0}\${0}\`,
  "a",
  "ab",
  \`abcde\`,
  \`abcdef\`,
  \`abcdefg\`,
]);
const foo = () => {};

// For short strings, we should use the original string instead of replacing it with a
// dictionary reference.
const short1 = "";
const short2 = "a";
const short3 = "ab";

// Longer strings should be replaced with a dictionary reference.
const long1 = D[3];
const long2 = D[0];
const long3 = D[2];

// Similarly, we should keep short quasis in template literals instead of replacing them
// with a dictionary reference.
const quasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// The dictionary now contains 10 items, which will make the references for any further
// items larger because the size of the index will increase by one character. However,
// we should still be able to use references for all of the examples below, because we
// should be smart enough to reorder the dictionary to make the new items fit.
const twoDigits1 = D[3];
const twoDigits2 = D[0];
const twoDigits3 = D[6];
const twoDigits4 = D[5];

// The same applies to quasis.
const twoDigitsQuasi1 = \`abcde\${5}abcdef\${6}abcdefg\${7}\${D[4]}\${8}\${D[1]}\`;

// We should never replace an empty string, or a sequence of empty quasis, with a
// dictionary reference. (Although for tagged templates, it's a bit trickier to detect
// this case, and so we will continue to generate dictionary entries for them.)
const empty1 = "";
const empty2 = "";
const empty3 = \`\`;
const empty4 = \`\${0}\${1}\${2}\`;
const empty5 = foo(D[7]);
const empty6 = foo(D[8], 0, 1, 2);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBGb3Igc2hvcnQgc3RyaW5ncywgd2Ugc2hvdWxkIHVzZSB0aGUgb3JpZ2luYWwgc3RyaW5nIGluc3RlYWQgb2YgcmVwbGFjaW5nIGl0IHdpdGggYVxuLy8gZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBzaG9ydDEgPSBcIlwiO1xuY29uc3Qgc2hvcnQyID0gXCJhXCI7XG5jb25zdCBzaG9ydDMgPSBcImFiXCI7XG5cbi8vIExvbmdlciBzdHJpbmdzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGEgZGljdGlvbmFyeSByZWZlcmVuY2UuXG5jb25zdCBsb25nMSA9IFwiYWJjXCI7XG5jb25zdCBsb25nMiA9IFwiYWJjZFwiO1xuY29uc3QgbG9uZzMgPSBcImFiY2RlXCI7XG5cbi8vIFNpbWlsYXJseSwgd2Ugc2hvdWxkIGtlZXAgc2hvcnQgcXVhc2lzIGluIHRlbXBsYXRlIGxpdGVyYWxzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbi8vIHdpdGggYSBkaWN0aW9uYXJ5IHJlZmVyZW5jZS5cbmNvbnN0IHF1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBUaGUgZGljdGlvbmFyeSBub3cgY29udGFpbnMgMTAgaXRlbXMsIHdoaWNoIHdpbGwgbWFrZSB0aGUgcmVmZXJlbmNlcyBmb3IgYW55IGZ1cnRoZXJcbi8vIGl0ZW1zIGxhcmdlciBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSBpbmRleCB3aWxsIGluY3JlYXNlIGJ5IG9uZSBjaGFyYWN0ZXIuIEhvd2V2ZXIsXG4vLyB3ZSBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byB1c2UgcmVmZXJlbmNlcyBmb3IgYWxsIG9mIHRoZSBleGFtcGxlcyBiZWxvdywgYmVjYXVzZSB3ZVxuLy8gc2hvdWxkIGJlIHNtYXJ0IGVub3VnaCB0byByZW9yZGVyIHRoZSBkaWN0aW9uYXJ5IHRvIG1ha2UgdGhlIG5ldyBpdGVtcyBmaXQuXG5jb25zdCB0d29EaWdpdHMxID0gXCJhYmNcIjtcbmNvbnN0IHR3b0RpZ2l0czIgPSBcImFiY2RcIjtcbmNvbnN0IHR3b0RpZ2l0czMgPSBcInh5elwiO1xuY29uc3QgdHdvRGlnaXRzNCA9IFwieHl6MFwiO1xuXG4vLyBUaGUgc2FtZSBhcHBsaWVzIHRvIHF1YXNpcy5cbmNvbnN0IHR3b0RpZ2l0c1F1YXNpMSA9IGBhYmNkZSR7NX1hYmNkZWYkezZ9YWJjZGVmZyR7N31hYmNkZWZnaCR7OH1hYmNkZWZnaGlgO1xuXG4vLyBXZSBzaG91bGQgbmV2ZXIgcmVwbGFjZSBhbiBlbXB0eSBzdHJpbmcsIG9yIGEgc2VxdWVuY2Ugb2YgZW1wdHkgcXVhc2lzLCB3aXRoIGFcbi8vIGRpY3Rpb25hcnkgcmVmZXJlbmNlLiAoQWx0aG91Z2ggZm9yIHRhZ2dlZCB0ZW1wbGF0ZXMsIGl0J3MgYSBiaXQgdHJpY2tpZXIgdG8gZGV0ZWN0XG4vLyB0aGlzIGNhc2UsIGFuZCBzbyB3ZSB3aWxsIGNvbnRpbnVlIHRvIGdlbmVyYXRlIGRpY3Rpb25hcnkgZW50cmllcyBmb3IgdGhlbS4pXG5jb25zdCBlbXB0eTEgPSBcIlwiO1xuY29uc3QgZW1wdHkyID0gXCJcIjtcbmNvbnN0IGVtcHR5MyA9IGBgO1xuY29uc3QgZW1wdHk0ID0gYCR7MH0kezF9JHsyfWA7XG5jb25zdCBlbXB0eTUgPSBmb29gYDtcbmNvbnN0IGVtcHR5NiA9IGZvb2AkezB9JHsxfSR7Mn1gO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxFQUFFO0FBQ2pCLE1BQU0sTUFBTSxHQUFHLEdBQUc7QUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBSTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxLQUFLLEdBQUcsSUFBSztBQUNuQixNQUFNLEtBQUssR0FBRyxJQUFNO0FBQ3BCLE1BQU0sS0FBSyxHQUFHLElBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsSUFBSztBQUN4QixNQUFNLFVBQVUsR0FBRyxJQUFNO0FBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUs7QUFDeEIsTUFBTSxVQUFVLEdBQUcsSUFBTTtBQUN6QjtBQUNBO0FBQ0EsTUFBTSxlQUFlLElBQUksS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBUSxFQUFFLEVBQUUsT0FBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLEVBQUU7QUFDakIsTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNLE1BQU0sSUFBSTtBQUNoQixNQUFNLE1BQU0sSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM1QixNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUM7QUFDbkIsTUFBTSxNQUFNLEdBQUcsR0FBRyxLQUFDLEVBQUUsQ0FBRSxFQUFFLENBQUUsRUFBRSxDQUFFIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for regular-expressions 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  \`"\`,
]);
import compact from 'lodash/compact';

export const PATTERN = /[:()"\\\\]/g;

const addQuotes = (string, hasQuotes) =>
  hasQuotes ? \`"\${string}"\` : string;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JztcblxuZXhwb3J0IGNvbnN0IFBBVFRFUk4gPSAvWzooKVwiXFxcXF0vZztcblxuY29uc3QgYWRkUXVvdGVzID0gKHN0cmluZywgaGFzUXVvdGVzKSA9PlxuICBoYXNRdW90ZXMgPyBgXCIke3N0cmluZ31cImAgOiBzdHJpbmc7XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sT0FBTyxNQUFNLGdCQUFnQjtBQUNwQztBQUNBLE9BQU8sTUFBTSxPQUFPLEdBQUc7QUFDdkI7QUFDQSxNQUFNLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTO0FBQ3BDLEVBQUUsU0FBUyxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0iLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the ESM version should transform code correctly > for string-literals 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "appendix",
  "gem\`'\\"\\u{6F}",
  "cat\\r\\n\\tdog",
  "observe",
  'quarrel',
  'fizz"\\'"',
  "karat",
  'bowling',
  "egg'\\"'",
  "macrame",
  "nanobot",
  "pacific",
  "hammer",
  "image",
  "jewel",
  "labor",
]);
const foo = () => {};

// Trivial string literals.
const trivial1 = "";
const trivial2 = '';
const trivial3 = D[0];
const trivial4 = D[7];

// Escape sequences.
const escape1 = D[2];
const escape2 = D[8];
const escape3 = D[5];
const escape4 = D[1];

// String literals used in expressions.
const expression1 = D[12].toLowerCase();
const expression2 = foo[D[13]];
const expression3 = foo(D[14]);
const expression4 = D[6][1];

// String literals used in function declarations.
const func1 = (_a = D[15]) => {};

// String literals used in object literals.
const object1 = { [D[9]]: 1 };
const object2 = { [D[10]]: 2 };
const object3 = { [D[3]](_a){} };

// String literals used in array literals.
const array1 = [D[11]];
const array2 = [...D[4]];

// Reuse of string literals we've already seen.
const reuse1 = D[0];
const reuse2 = D[6][1];
const reuse3 = { [D[3]](_a){} };
const reuse4 = [...D[4]];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuXG4vLyBUcml2aWFsIHN0cmluZyBsaXRlcmFscy5cbmNvbnN0IHRyaXZpYWwxID0gXCJcIjtcbmNvbnN0IHRyaXZpYWwyID0gJyc7XG5jb25zdCB0cml2aWFsMyA9IFwiYXBwZW5kaXhcIjtcbmNvbnN0IHRyaXZpYWw0ID0gJ2Jvd2xpbmcnO1xuXG4vLyBFc2NhcGUgc2VxdWVuY2VzLlxuY29uc3QgZXNjYXBlMSA9IFwiY2F0XFxyXFxuXFx0ZG9nXCI7XG5jb25zdCBlc2NhcGUyID0gXCJlZ2cnXFxcIidcIjtcbmNvbnN0IGVzY2FwZTMgPSAnZml6elwiXFwnXCInO1xuY29uc3QgZXNjYXBlNCA9IFwiZ2VtYCdcXFwiXFx1ezZGfVwiO1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBleHByZXNzaW9ucy5cbmNvbnN0IGV4cHJlc3Npb24xID0gXCJoYW1tZXJcIi50b0xvd2VyQ2FzZSgpO1xuY29uc3QgZXhwcmVzc2lvbjIgPSBmb29bXCJpbWFnZVwiXTtcbmNvbnN0IGV4cHJlc3Npb24zID0gZm9vKFwiamV3ZWxcIik7XG5jb25zdCBleHByZXNzaW9uNCA9IFwia2FyYXRcIlsxXTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuY29uc3QgZnVuYzEgPSAoX2EgPSBcImxhYm9yXCIpID0+IHt9O1xuXG4vLyBTdHJpbmcgbGl0ZXJhbHMgdXNlZCBpbiBvYmplY3QgbGl0ZXJhbHMuXG5jb25zdCBvYmplY3QxID0geyBcIm1hY3JhbWVcIjogMSB9O1xuY29uc3Qgb2JqZWN0MiA9IHsgW1wibmFub2JvdFwiXTogMiB9O1xuY29uc3Qgb2JqZWN0MyA9IHsgXCJvYnNlcnZlXCIoX2Epe30gfTtcblxuLy8gU3RyaW5nIGxpdGVyYWxzIHVzZWQgaW4gYXJyYXkgbGl0ZXJhbHMuXG5jb25zdCBhcnJheTEgPSBbXCJwYWNpZmljXCJdO1xuY29uc3QgYXJyYXkyID0gWy4uLidxdWFycmVsJ107XG5cbi8vIFJldXNlIG9mIHN0cmluZyBsaXRlcmFscyB3ZSd2ZSBhbHJlYWR5IHNlZW4uXG5jb25zdCByZXVzZTEgPSBcImFwcGVuZGl4XCI7XG5jb25zdCByZXVzZTIgPSBcImthcmF0XCJbMV07XG5jb25zdCByZXVzZTMgPSB7IFwib2JzZXJ2ZVwiKF9hKXt9IH07XG5jb25zdCByZXVzZTQgPSBbLi4uJ3F1YXJyZWwnXTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUNsQjtBQUNBO0FBQ0EsTUFBTSxRQUFRLEdBQUcsRUFBRTtBQUNuQixNQUFNLFFBQVEsR0FBRyxFQUFFO0FBQ25CLE1BQU0sUUFBUSxHQUFHLElBQVU7QUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBUztBQUMxQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsSUFBYztBQUM5QixNQUFNLE9BQU8sR0FBRyxJQUFTO0FBQ3pCLE1BQU0sT0FBTyxHQUFHLElBQVU7QUFDMUIsTUFBTSxPQUFPLEdBQUcsSUFBZTtBQUMvQjtBQUNBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsS0FBUSxDQUFDLFdBQVc7QUFDeEMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQU87QUFDL0IsTUFBTSxXQUFXLEdBQUcsSUFBTyxDQUFDO0FBQzVCO0FBQ0E7QUFDQSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxLQUFPLEtBQUs7QUFDaEM7QUFDQTtBQUNBLE1BQU0sT0FBTyxHQUFHLEVBQUUsTUFBUyxFQUFFO0FBQzdCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFTLEdBQUc7QUFDL0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFTLENBQUMsRUFBRSxDQUFDO0FBQy9CO0FBQ0E7QUFDQSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQVM7QUFDekIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQVM7QUFDNUI7QUFDQTtBQUNBLE1BQU0sTUFBTSxHQUFHLElBQVU7QUFDekIsTUFBTSxNQUFNLEdBQUcsSUFBTyxDQUFDO0FBQ3ZCLE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBUyxDQUFDLEVBQUUsQ0FBQztBQUM5QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBUyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for switch-statements 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'francis',
  'result',
  'emmett',
  "arnold",
  'betty',
  $\`danielle\`,
  \`charles\`,
]);
const tag = () => D[1];

export const foo = (value) => {
  const emmett = D[2];

  switch (value) {
    case D[3]:
      return 1;

    case D[4]:
      return 2;

    case \`charles\`:
      return 3;

    case tag(D[5]):
      return 4;

    case emmett:
      return 5;

    case D[0]:
      return 6;

    default:
      return 7;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgZm9vID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGVtbWV0dCA9ICdlbW1ldHQnO1xuXG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIFwiYXJub2xkXCI6XG4gICAgICByZXR1cm4gMTtcblxuICAgIGNhc2UgJ2JldHR5JzpcbiAgICAgIHJldHVybiAyO1xuXG4gICAgY2FzZSBgY2hhcmxlc2A6XG4gICAgICByZXR1cm4gMztcblxuICAgIGNhc2UgdGFnYGRhbmllbGxlYDpcbiAgICAgIHJldHVybiA0O1xuXG4gICAgY2FzZSBlbW1ldHQ6XG4gICAgICByZXR1cm4gNTtcblxuICAgIGNhc2UnZnJhbmNpcyc6XG4gICAgICByZXR1cm4gNjtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gNztcbiAgfVxufTtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBTSxHQUFHLEdBQUcsTUFBTSxJQUFRO0FBQzFCO0FBQ0EsT0FBTyxNQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssS0FBSztBQUM5QixFQUFFLE1BQU0sTUFBTSxHQUFHLElBQVE7QUFDekI7QUFDQSxFQUFFLFFBQVEsS0FBSztBQUNmLElBQUksS0FBSyxJQUFRO0FBQ2pCLE1BQU0sT0FBTztBQUNiO0FBQ0EsSUFBSSxLQUFLLElBQU87QUFDaEIsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLE1BQU0sT0FBTztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxHQUFHLEtBQUMsQUFBUTtBQUNyQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUksS0FBSyxNQUFNO0FBQ2YsTUFBTSxPQUFPO0FBQ2I7QUFDQSxJQUFJLElBQUksS0FBUztBQUNqQixNQUFNLE9BQU87QUFDYjtBQUNBLElBQUk7QUFDSixNQUFNLE9BQU87QUFDYjtBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for tagged-templates-only 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  $\`bar\${0}\`,
]);
function foo() { }
console.log(foo(D[0], 1000))
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGZvbygpIHsgfVxuY29uc29sZS5sb2coZm9vYGJhciR7MTAwMH1gKVxuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxTQUFTLEdBQUcsR0FBRztBQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFDLEFBQUcsRUFBRSxJQUFLIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for templates 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  \`\\\`'"\\u{6F}\`,
  \`abc\\r\\n\\t123\`,
  \`gallingly\`,
  \`hairbrush\`,
  \`idealists\`,
  \`absolute\`,
  \`backdrops\`,
  \`cacophony\`,
  \`dachshund\`,
  \`eagerness\`,
  \`fabricate\`,
  \`newlyweds\`,
  \`orthodoxy\`,
  \`paralyzed\`,
  \`quadrants\`,
  \`reflexive\`,
  \`waferlike\`,
  \`yardstick\`,
  $\`superior\${0}vertical\`,
  $\`triangle\${0}umbrella\`,
  $\`\`,
  $\`judgment\`,
  $\`keyboard\${0}laughter\${0}material\`,
  $\`abstract\`,
  $\`doubtful\${0}endeavor\`,
  $\`bacteria\${0}contrast\`,
]);
const foo = () => {};
const bar = 1;

// Trivial template expressions.
const trivial1 = \`\`;
const trivial2 = \`\${D[5]}\`;
const trivial3 = \`\${D[6]}\${bar}\`;
const trivial4 = \`\${bar}\${D[7]}\`;
const trivial5 = \`\${D[8]}\${bar}\`;
const trivial6 = \`\${D[9]}\${bar}\${D[10]}\`;
const trivial7 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;

// Escape sequences.
const escape1 = \`\${D[1]}\`;
const escape2 = \`\${D[0]}\`;

// Tagged template expressions.
const tagged1 = foo(D[20]);
const tagged2 = foo(D[21]);
const tagged3 = foo(D[22], bar, bar);

// Nested template expressions.
const nested1 = \`\${D[11]}\${\`\${D[12]}\${\`\${D[13]}\`}\${D[14]}\`}\${D[15]}\`;
const nested2 = foo(D[18], foo(D[19], bar));
const nested3 = \`\${D[16]}\${bar}\${D[17]}\${foo(D[23])}\`;

// Using the results of template expressions as a tag.
const resulttag1 = foo(D[25], bar)(D[24], bar);

// Reuse of quasis and template expressions that we've already seen.
const reuse1 = \`\${D[5]}\`;
const reuse2 = \`\${D[2]}\${bar}\${D[3]}\${bar}\${D[4]}\${bar}\`;
const reuse3 = \`\${D[0]}\`;
const reuse4 = foo(D[18], foo(D[19], bar));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvbyA9ICgpID0+IHt9O1xuY29uc3QgYmFyID0gMTtcblxuLy8gVHJpdmlhbCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRyaXZpYWwxID0gYGA7XG5jb25zdCB0cml2aWFsMiA9IGBhYnNvbHV0ZWA7XG5jb25zdCB0cml2aWFsMyA9IGBiYWNrZHJvcHMke2Jhcn1gO1xuY29uc3QgdHJpdmlhbDQgPSBgJHtiYXJ9Y2Fjb3Bob255YDtcbmNvbnN0IHRyaXZpYWw1ID0gYGRhY2hzaHVuZCR7YmFyfWA7XG5jb25zdCB0cml2aWFsNiA9IGBlYWdlcm5lc3Mke2Jhcn1mYWJyaWNhdGVgO1xuY29uc3QgdHJpdmlhbDcgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcblxuLy8gRXNjYXBlIHNlcXVlbmNlcy5cbmNvbnN0IGVzY2FwZTEgPSBgYWJjXFxyXFxuXFx0MTIzYDtcbmNvbnN0IGVzY2FwZTIgPSBgXFxgJ1wiXFx1ezZGfWA7XG5cbi8vIFRhZ2dlZCB0ZW1wbGF0ZSBleHByZXNzaW9ucy5cbmNvbnN0IHRhZ2dlZDEgPSBmb29gYDtcbmNvbnN0IHRhZ2dlZDIgPSBmb29ganVkZ21lbnRgO1xuY29uc3QgdGFnZ2VkMyA9IGZvb2BrZXlib2FyZCR7YmFyfWxhdWdodGVyJHtiYXJ9bWF0ZXJpYWxgO1xuXG4vLyBOZXN0ZWQgdGVtcGxhdGUgZXhwcmVzc2lvbnMuXG5jb25zdCBuZXN0ZWQxID0gYG5ld2x5d2VkcyR7YG9ydGhvZG94eSR7YHBhcmFseXplZGB9cXVhZHJhbnRzYH1yZWZsZXhpdmVgO1xuY29uc3QgbmVzdGVkMiA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbmNvbnN0IG5lc3RlZDMgPSBgd2FmZXJsaWtlJHtiYXJ9eWFyZHN0aWNrJHtmb29gYWJzdHJhY3RgfWA7XG5cbi8vIFVzaW5nIHRoZSByZXN1bHRzIG9mIHRlbXBsYXRlIGV4cHJlc3Npb25zIGFzIGEgdGFnLlxuY29uc3QgcmVzdWx0dGFnMSA9IGZvb2BiYWN0ZXJpYSR7YmFyfWNvbnRyYXN0YGBkb3VidGZ1bCR7YmFyfWVuZGVhdm9yYDtcblxuLy8gUmV1c2Ugb2YgcXVhc2lzIGFuZCB0ZW1wbGF0ZSBleHByZXNzaW9ucyB0aGF0IHdlJ3ZlIGFscmVhZHkgc2Vlbi5cbmNvbnN0IHJldXNlMSA9IGBhYnNvbHV0ZWA7XG5jb25zdCByZXVzZTIgPSBgZ2FsbGluZ2x5JHtiYXJ9aGFpcmJydXNoJHtiYXJ9aWRlYWxpc3RzJHtiYXJ9YDtcbmNvbnN0IHJldXNlMyA9IGBcXGAnXCJcXHV7NkZ9YDtcbmNvbnN0IHJldXNlNCA9IGZvb2BzdXBlcmlvciR7Zm9vYHRyaWFuZ2xlJHtiYXJ9dW1icmVsbGFgfXZlcnRpY2FsYDtcbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU07QUFDbEIsTUFBTSxHQUFHLEdBQUc7QUFDWjtBQUNBO0FBQ0EsTUFBTSxRQUFRLElBQUk7QUFDbEIsTUFBTSxRQUFRLElBQUksT0FBUTtBQUMxQixNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQ2pDLE1BQU0sUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQVM7QUFDakMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQztBQUNqQyxNQUFNLFFBQVEsSUFBSSxPQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVM7QUFDMUMsTUFBTSxRQUFRLElBQUksT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDLE9BQVMsRUFBRSxHQUFHLENBQUM7QUFDL0Q7QUFDQTtBQUNBLE1BQU0sT0FBTyxJQUFJLE9BQVk7QUFDN0IsTUFBTSxPQUFPLElBQUksT0FBVTtBQUMzQjtBQUNBO0FBQ0EsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDO0FBQ3BCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRO0FBQzVCLE1BQU0sT0FBTyxHQUFHLEdBQUcsTUFBQyxBQUFRLEVBQUUsR0FBRyxBQUFDLEFBQVEsRUFBRSxHQUFHLEFBQUMsQUFBUTtBQUN4RDtBQUNBO0FBQ0EsTUFBTSxPQUFPLElBQUksUUFBUyxHQUFHLFFBQVMsR0FBRyxRQUFTLEVBQUUsUUFBUyxFQUFFLFFBQVM7QUFDeEUsTUFBTSxPQUFPLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUTtBQUNsRSxNQUFNLE9BQU8sSUFBSSxRQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVMsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFO0FBQ3pEO0FBQ0E7QUFDQSxNQUFNLFVBQVUsR0FBRyxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLE9BQUUsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRO0FBQ3JFO0FBQ0E7QUFDQSxNQUFNLE1BQU0sSUFBSSxPQUFRO0FBQ3hCLE1BQU0sTUFBTSxJQUFJLE9BQVMsRUFBRSxHQUFHLENBQUMsT0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFTLEVBQUUsR0FBRyxDQUFDO0FBQzdELE1BQU0sTUFBTSxJQUFJLE9BQVU7QUFDMUIsTUFBTSxNQUFNLEdBQUcsR0FBRyxNQUFDLEFBQVEsRUFBRSxHQUFHLE1BQUMsQUFBUSxFQUFFLEdBQUcsQUFBQyxBQUFRLENBQUUsQUFBUSIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for ternary-expressions 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'katherine',
  "charles",
  'ophelia',
  'richard',
  'result',
  "arnold",
  'george',
  'marcia',
  'nathan',
  "betty",
  'harry',
  'irina',
  'peter',
  'quinn',
  'jack',
  $\`danielle\`,
  $\`emmett\`,
  $\`francine\`,
]);
const tag = () => D[4];

export const arnold = D[5] ? D[9] : D[1];
export const danielle = tag(D[15]) ? tag(D[16]) : tag(D[17]);
export const george = D[6] ? (D[10], D[11]) : (D[14], D[0]);
export const leopold = { [D[7]]: D[8] } ? { [D[2]]: D[12] } : { 'quinn': D[3] };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZyA9ICgpID0+ICdyZXN1bHQnO1xuXG5leHBvcnQgY29uc3QgYXJub2xkID0gXCJhcm5vbGRcIiA/IFwiYmV0dHlcIiA6IFwiY2hhcmxlc1wiO1xuZXhwb3J0IGNvbnN0IGRhbmllbGxlID0gdGFnYGRhbmllbGxlYCA/IHRhZ2BlbW1ldHRgIDogdGFnYGZyYW5jaW5lYDtcbmV4cG9ydCBjb25zdCBnZW9yZ2UgPSAnZ2VvcmdlJyA/ICgnaGFycnknLCAnaXJpbmEnKSA6ICgnamFjaycsICdrYXRoZXJpbmUnKTtcbmV4cG9ydCBjb25zdCBsZW9wb2xkID0geyAnbWFyY2lhJzogJ25hdGhhbicgfSA/IHsgJ29waGVsaWEnOiAncGV0ZXInIH0gOiB7ICdxdWlubic6ICdyaWNoYXJkJyB9O1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBUTtBQUMxQjtBQUNBLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLElBQU8sR0FBRyxJQUFTO0FBQ3BELE9BQU8sTUFBTSxRQUFRLEdBQUcsR0FBRyxNQUFDLEFBQVEsSUFBSSxHQUFHLE1BQUMsQUFBTSxJQUFJLEdBQUcsTUFBQyxBQUFRO0FBQ2xFLE9BQU8sTUFBTSxNQUFNLEdBQUcsSUFBUSxHQUFHLENBQUMsS0FBTyxFQUFFLEtBQU8sSUFBSSxDQUFDLEtBQU0sRUFBRSxJQUFXO0FBQzFFLE9BQU8sTUFBTSxPQUFPLEdBQUcsRUFBRSxNQUFRLEVBQUUsSUFBUSxLQUFLLEVBQUUsTUFBUyxFQUFFLEtBQU8sS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFTIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for trivial 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  "test",
]);
console.log(/* (attached comment) */ D[0]);

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKC8qIChhdHRhY2hlZCBjb21tZW50KSAqLyBcInRlc3RcIik7XG5cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxDQUFDLEdBQUcsMEJBQTBCLElBQU07QUFDM0MiLCJpZ25vcmVMaXN0IjpbMV19"
`;

exports[`the ESM version should transform code correctly > for typescript-enums 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'Number Three',
  'Number One',
  'Letter A',
  "Letter B",
  "Number Two",
  'Number Two',
  'Letter C',
  'Alpha',
  "Beta",
  \`Letter C\`,
  \`Gamma\`,
]);
enum GreekLetters {
  Alpha = 'Alpha',
  Beta = "Beta",
  Gamma = \`Gamma\`,
}

enum RomanLetters {
  'Letter A' = 'Letter A',
  "Letter B" = "Letter B",
  'Letter C' = \`Letter C\`,
}

const enum ArabicNumbers {
  'Number One' = 'Number One',
  "Number Two" = 'Number Two',
  'Number Three' = 'Number Three',
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImVudW0gR3JlZWtMZXR0ZXJzIHtcbiAgQWxwaGEgPSAnQWxwaGEnLFxuICBCZXRhID0gXCJCZXRhXCIsXG4gIEdhbW1hID0gYEdhbW1hYCxcbn1cblxuZW51bSBSb21hbkxldHRlcnMge1xuICAnTGV0dGVyIEEnID0gJ0xldHRlciBBJyxcbiAgXCJMZXR0ZXIgQlwiID0gXCJMZXR0ZXIgQlwiLFxuICAnTGV0dGVyIEMnID0gYExldHRlciBDYCxcbn1cblxuY29uc3QgZW51bSBBcmFiaWNOdW1iZXJzIHtcbiAgJ051bWJlciBPbmUnID0gJ051bWJlciBPbmUnLFxuICBcIk51bWJlciBUd29cIiA9ICdOdW1iZXIgVHdvJyxcbiAgJ051bWJlciBUaHJlZScgPSAnTnVtYmVyIFRocmVlJyxcbn1cbiIsIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLEtBQUssWUFBWTtBQUNqQixFQUFFLEtBQUssR0FBRyxPQUFPO0FBQ2pCLEVBQUUsSUFBSSxHQUFHLE1BQU07QUFDZixFQUFFLEtBQUssSUFBSSxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLLFlBQVk7QUFDakIsRUFBRSxVQUFVLEdBQUcsVUFBVTtBQUN6QixFQUFFLFVBQVUsR0FBRyxVQUFVO0FBQ3pCLEVBQUUsVUFBVSxJQUFJLFFBQVE7QUFDeEI7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixFQUFFLFlBQVksR0FBRyxZQUFZO0FBQzdCLEVBQUUsWUFBWSxHQUFHLFlBQVk7QUFDN0IsRUFBRSxjQUFjLEdBQUcsY0FBYztBQUNqQyIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for typescript-inheritance 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'SpecificNode',
  'pattern',
]);
import { Variant } from './variant';

export class SpecificNode
    extends Variant(D[0])<[string, {}]>
{
    pattern(): string {
        return { escaped: D[1] };
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhcmlhbnQgfSBmcm9tICcuL3ZhcmlhbnQnO1xuXG5leHBvcnQgY2xhc3MgU3BlY2lmaWNOb2RlXG4gICAgZXh0ZW5kcyBWYXJpYW50KCdTcGVjaWZpY05vZGUnKTxbc3RyaW5nLCB7fV0+XG57XG4gICAgcGF0dGVybigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4geyBlc2NhcGVkOiAncGF0dGVybicgfTtcbiAgICB9XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTLE9BQU8sUUFBUSxXQUFXO0FBQ25DO0FBQ0EsT0FBTyxNQUFNLFlBQVk7QUFDekIsWUFBWSxPQUFPLENBQUMsSUFBYyxDQUFDO0FBQ25DO0FBQ0EsSUFBSSxPQUFPLEVBQUUsU0FBUztBQUN0QixRQUFRLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBUztBQUNuQztBQUNBIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for typescript-namespaces 1`] = `
"import { $ } from ' datadog:privacy-helpers.mjs';
const D = $([
  'betelgeuse',
  'cassiopeia',
  'andromeda',
]);
declare module SomeModule {
  const variable = D[2];
}

declare module "SomeModule" {
  const variable = D[0];
}

declare namespace SomeNamespace {
  const variable = D[1];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbW9kdWxlIFNvbWVNb2R1bGUge1xuICBjb25zdCB2YXJpYWJsZSA9ICdhbmRyb21lZGEnO1xufVxuXG5kZWNsYXJlIG1vZHVsZSBcIlNvbWVNb2R1bGVcIiB7XG4gIGNvbnN0IHZhcmlhYmxlID0gJ2JldGVsZ2V1c2UnO1xufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBTb21lTmFtZXNwYWNlIHtcbiAgY29uc3QgdmFyaWFibGUgPSAnY2Fzc2lvcGVpYSc7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMEJBQTBCO0FBQzFCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBVztBQUM5QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLEVBQUUsTUFBTSxRQUFRLEdBQUcsSUFBWTtBQUMvQiIsImlnbm9yZUxpc3QiOlsxXX0="
`;

exports[`the ESM version should transform code correctly > for unwanted 1`] = `
"// No strings in this file should appear in the dictionary.
"use strict";
"use server";
"use client";
import "unwanted1.js";
import foo from "unwanted2.js";
import { foo } from "unwanted3.js";
import * as foo from "unwanted4.js";
import { foo as bar1 } from "unwanted5.js";
import { default as bar2 } from "unwanted6.js";
import { "unwanted7" as bar3 } from "unwanted8.js";
export { bar1 };
export { bar1 as bar2 };
export { bar1 as "unwanted9" };
export * from "unwanted10.js";
export * as foo from "unwanted11.js";
export { bar } from "unwanted12.js";
export { default } from "unwanted13.js";
export { default as bar } from "unwanted14.js";
export { foo as "unwanted15" } from "unwanted16.js";
const bar4 = require("unwanted17.js");
const bar5 = import("unwanted18.js");
function doSomething() {
  "use strict";
  return 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHNlcnZlclwiO1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgXCJ1bndhbnRlZDEuanNcIjtcbmltcG9ydCBmb28gZnJvbSBcInVud2FudGVkMi5qc1wiO1xuaW1wb3J0IHsgZm9vIH0gZnJvbSBcInVud2FudGVkMy5qc1wiO1xuaW1wb3J0ICogYXMgZm9vIGZyb20gXCJ1bndhbnRlZDQuanNcIjtcbmltcG9ydCB7IGZvbyBhcyBiYXIxIH0gZnJvbSBcInVud2FudGVkNS5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBiYXIyIH0gZnJvbSBcInVud2FudGVkNi5qc1wiO1xuaW1wb3J0IHsgXCJ1bndhbnRlZDdcIiBhcyBiYXIzIH0gZnJvbSBcInVud2FudGVkOC5qc1wiO1xuZXhwb3J0IHsgYmFyMSB9O1xuZXhwb3J0IHsgYmFyMSBhcyBiYXIyIH07XG5leHBvcnQgeyBiYXIxIGFzIFwidW53YW50ZWQ5XCIgfTtcbmV4cG9ydCAqIGZyb20gXCJ1bndhbnRlZDEwLmpzXCI7XG5leHBvcnQgKiBhcyBmb28gZnJvbSBcInVud2FudGVkMTEuanNcIjtcbmV4cG9ydCB7IGJhciB9IGZyb20gXCJ1bndhbnRlZDEyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcInVud2FudGVkMTMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmFyIH0gZnJvbSBcInVud2FudGVkMTQuanNcIjtcbmV4cG9ydCB7IGZvbyBhcyBcInVud2FudGVkMTVcIiB9IGZyb20gXCJ1bndhbnRlZDE2LmpzXCI7XG5jb25zdCBiYXI0ID0gcmVxdWlyZShcInVud2FudGVkMTcuanNcIik7XG5jb25zdCBiYXI1ID0gaW1wb3J0KFwidW53YW50ZWQxOC5qc1wiKTtcbmZ1bmN0aW9uIGRvU29tZXRoaW5nKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgcmV0dXJuIDA7XG59XG4iLCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWixPQUFPLGNBQWM7QUFDckIsT0FBTyxHQUFHLE1BQU0sY0FBYztBQUM5QixTQUFTLEdBQUcsUUFBUSxjQUFjO0FBQ2xDLE9BQU8sS0FBSyxHQUFHLE1BQU0sY0FBYztBQUNuQyxTQUFTLEdBQUcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUMxQyxTQUFTLE9BQU8sSUFBSSxJQUFJLFFBQVEsY0FBYztBQUM5QyxTQUFTLFdBQVcsSUFBSSxJQUFJLFFBQVEsY0FBYztBQUNsRCxTQUFTLElBQUk7QUFDYixTQUFTLElBQUksSUFBSSxJQUFJO0FBQ3JCLFNBQVMsSUFBSSxJQUFJLFdBQVc7QUFDNUIsY0FBYyxlQUFlO0FBQzdCLE9BQU8sS0FBSyxHQUFHLE1BQU0sZUFBZTtBQUNwQyxTQUFTLEdBQUcsUUFBUSxlQUFlO0FBQ25DLFNBQVMsT0FBTyxRQUFRLGVBQWU7QUFDdkMsU0FBUyxPQUFPLElBQUksR0FBRyxRQUFRLGVBQWU7QUFDOUMsU0FBUyxHQUFHLElBQUksWUFBWSxRQUFRLGVBQWU7QUFDbkQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLGVBQWU7QUFDcEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxlQUFlO0FBQ25DLFNBQVMsV0FBVyxHQUFHO0FBQ3ZCLEVBQUUsWUFBWTtBQUNkLEVBQUUsT0FBTztBQUNUIiwiaWdub3JlTGlzdCI6WzFdfQ=="
`;

exports[`the ESM version should transform code correctly > for unwanted-typescript 1`] = `
"// No strings in this file should appear in the dictionary.
let foo: 'unwanted_var_type_1' | "unwanted_var_type_2";

function bar(
  x: "unwanted_arg_type_1",
  y: 'unwanted_arg_type_2'
): 'unwanted_return_value_type_3' | undefined {
  return undefined;
}

type ObjectType = {
  'unwanted_object_key_type_1': 'unwanted_object_value_type_1'
};

interface InterfaceType {
  'unwanted_interface_key_type_1': 'unwanted_interface_value_type_1'
};

declare let baz: 'unwanted_declared_var_type_1';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LnRzIiwiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vIHN0cmluZ3MgaW4gdGhpcyBmaWxlIHNob3VsZCBhcHBlYXIgaW4gdGhlIGRpY3Rpb25hcnkuXG5sZXQgZm9vOiAndW53YW50ZWRfdmFyX3R5cGVfMScgfCBcInVud2FudGVkX3Zhcl90eXBlXzJcIjtcblxuZnVuY3Rpb24gYmFyKFxuICB4OiBcInVud2FudGVkX2FyZ190eXBlXzFcIixcbiAgeTogJ3Vud2FudGVkX2FyZ190eXBlXzInXG4pOiAndW53YW50ZWRfcmV0dXJuX3ZhbHVlX3R5cGVfMycgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG50eXBlIE9iamVjdFR5cGUgPSB7XG4gICd1bndhbnRlZF9vYmplY3Rfa2V5X3R5cGVfMSc6ICd1bndhbnRlZF9vYmplY3RfdmFsdWVfdHlwZV8xJ1xufTtcblxuaW50ZXJmYWNlIEludGVyZmFjZVR5cGUge1xuICAndW53YW50ZWRfaW50ZXJmYWNlX2tleV90eXBlXzEnOiAndW53YW50ZWRfaW50ZXJmYWNlX3ZhbHVlX3R5cGVfMSdcbn07XG5cbmRlY2xhcmUgbGV0IGJhejogJ3Vud2FudGVkX2RlY2xhcmVkX3Zhcl90eXBlXzEnO1xuIiwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxHQUFHO0FBQ1A7QUFDQSxTQUFTLEdBQUc7QUFDWixFQUFFLENBQUM7QUFDSCxFQUFFLENBQUM7QUFDSCxDQUFDLDZDQUE2QztBQUM5QyxFQUFFLE9BQU8sU0FBUztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxVQUFVO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksR0FBRyIsImlnbm9yZUxpc3QiOlsxXX0="
`;
